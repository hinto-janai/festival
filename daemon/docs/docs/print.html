<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>festivald v0.0.0</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Intro</a></li><li class="chapter-item expanded "><a href="quick-start.html"><strong aria-hidden="true">1.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="config.html"><strong aria-hidden="true">2.</strong> Config</a></li><li class="chapter-item expanded "><a href="disk.html"><strong aria-hidden="true">3.</strong> Disk</a></li><li class="chapter-item expanded "><a href="authorization.html"><strong aria-hidden="true">4.</strong> Authorization</a></li><li class="chapter-item expanded "><a href="command-line.html"><strong aria-hidden="true">5.</strong> Command Line</a></li><li class="chapter-item expanded "><a href="api-stability.html"><strong aria-hidden="true">6.</strong> API Stability</a></li><li class="chapter-item expanded "><a href="common-objects/common-objects.html"><strong aria-hidden="true">7.</strong> Common Objects</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="common-objects/collection.html"><strong aria-hidden="true">7.1.</strong> Collection</a></li><li class="chapter-item expanded "><a href="common-objects/key.html"><strong aria-hidden="true">7.2.</strong> Key</a></li><li class="chapter-item expanded "><a href="common-objects/artist.html"><strong aria-hidden="true">7.3.</strong> Artist</a></li><li class="chapter-item expanded "><a href="common-objects/album.html"><strong aria-hidden="true">7.4.</strong> Album</a></li><li class="chapter-item expanded "><a href="common-objects/song.html"><strong aria-hidden="true">7.5.</strong> Song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc.html"><strong aria-hidden="true">8.</strong> JSON-RPC</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/quick-start.html"><strong aria-hidden="true">8.1.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection.html"><strong aria-hidden="true">8.2.</strong> Collection</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/collection/new_collection.html"><strong aria-hidden="true">8.2.1.</strong> new_collection</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state-retrieval.html"><strong aria-hidden="true">8.3.</strong> State Retrieval</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_daemon.html"><strong aria-hidden="true">8.3.1.</strong> state_daemon</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_audio.html"><strong aria-hidden="true">8.3.2.</strong> state_audio</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_reset.html"><strong aria-hidden="true">8.3.3.</strong> state_reset</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_collection.html"><strong aria-hidden="true">8.3.4.</strong> state_collection</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_collection_full.html"><strong aria-hidden="true">8.3.5.</strong> state_collection_full</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/key/key.html"><strong aria-hidden="true">8.4.</strong> Key</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/key/key_artist.html"><strong aria-hidden="true">8.4.1.</strong> key_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/key/key_album.html"><strong aria-hidden="true">8.4.2.</strong> key_album</a></li><li class="chapter-item expanded "><a href="json-rpc/key/key_song.html"><strong aria-hidden="true">8.4.3.</strong> key_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/map/map.html"><strong aria-hidden="true">8.5.</strong> Map</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/map/map_artist.html"><strong aria-hidden="true">8.5.1.</strong> map_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/map/map_album.html"><strong aria-hidden="true">8.5.2.</strong> map_album</a></li><li class="chapter-item expanded "><a href="json-rpc/map/map_song.html"><strong aria-hidden="true">8.5.3.</strong> map_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/current/current.html"><strong aria-hidden="true">8.6.</strong> Current</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/current/current_artist.html"><strong aria-hidden="true">8.6.1.</strong> current_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/current/current_album.html"><strong aria-hidden="true">8.6.2.</strong> current_album</a></li><li class="chapter-item expanded "><a href="json-rpc/current/current_song.html"><strong aria-hidden="true">8.6.3.</strong> current_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/rand/rand.html"><strong aria-hidden="true">8.7.</strong> Rand</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/rand/rand_artist.html"><strong aria-hidden="true">8.7.1.</strong> rand_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/rand/rand_album.html"><strong aria-hidden="true">8.7.2.</strong> rand_album</a></li><li class="chapter-item expanded "><a href="json-rpc/rand/rand_song.html"><strong aria-hidden="true">8.7.3.</strong> rand_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/search/index.html"><strong aria-hidden="true">8.8.</strong> Search</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/search/search.html"><strong aria-hidden="true">8.8.1.</strong> search</a></li><li class="chapter-item expanded "><a href="json-rpc/search/search_artist.html"><strong aria-hidden="true">8.8.2.</strong> search_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/search/search_album.html"><strong aria-hidden="true">8.8.3.</strong> search_album</a></li><li class="chapter-item expanded "><a href="json-rpc/search/search_song.html"><strong aria-hidden="true">8.8.4.</strong> search_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/playback-control.html"><strong aria-hidden="true">8.9.</strong> Playback Control</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/playback-control/toggle.html"><strong aria-hidden="true">8.9.1.</strong> toggle</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/play.html"><strong aria-hidden="true">8.9.2.</strong> play</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/pause.html"><strong aria-hidden="true">8.9.3.</strong> pause</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/next.html"><strong aria-hidden="true">8.9.4.</strong> next</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/stop.html"><strong aria-hidden="true">8.9.5.</strong> stop</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/shuffle.html"><strong aria-hidden="true">8.9.6.</strong> shuffle</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/repeat_off.html"><strong aria-hidden="true">8.9.7.</strong> repeat_off</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/repeat_song.html"><strong aria-hidden="true">8.9.8.</strong> repeat_song</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/repeat_queue.html"><strong aria-hidden="true">8.9.9.</strong> repeat_queue</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/previous.html"><strong aria-hidden="true">8.9.10.</strong> previous</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/volume.html"><strong aria-hidden="true">8.9.11.</strong> volume</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/clear.html"><strong aria-hidden="true">8.9.12.</strong> clear</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/seek.html"><strong aria-hidden="true">8.9.13.</strong> seek</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/skip.html"><strong aria-hidden="true">8.9.14.</strong> skip</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/back.html"><strong aria-hidden="true">8.9.15.</strong> back</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_key_artist.html"><strong aria-hidden="true">8.9.16.</strong> add_queue_key_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_key_album.html"><strong aria-hidden="true">8.9.17.</strong> add_queue_key_album</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_key_song.html"><strong aria-hidden="true">8.9.18.</strong> add_queue_key_song</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_map_artist.html"><strong aria-hidden="true">8.9.19.</strong> add_queue_map_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_map_album.html"><strong aria-hidden="true">8.9.20.</strong> add_queue_map_album</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_map_song.html"><strong aria-hidden="true">8.9.21.</strong> add_queue_map_song</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/set_queue_index.html"><strong aria-hidden="true">8.9.22.</strong> set_queue_index</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/remove_queue_range.html"><strong aria-hidden="true">8.9.23.</strong> remove_queue_range</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="rest.html"><strong aria-hidden="true">9.</strong> REST</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rest/quick-start.html"><strong aria-hidden="true">9.1.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="rest/key/key.html"><strong aria-hidden="true">9.2.</strong> /key</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rest/key/artist.html"><strong aria-hidden="true">9.2.1.</strong> /key/artist/$ARTIST_KEY</a></li><li class="chapter-item expanded "><a href="rest/key/album.html"><strong aria-hidden="true">9.2.2.</strong> /key/album/$ALBUM_KEY</a></li><li class="chapter-item expanded "><a href="rest/key/song.html"><strong aria-hidden="true">9.2.3.</strong> /key/song/$SONG_KEY</a></li><li class="chapter-item expanded "><a href="rest/key/art.html"><strong aria-hidden="true">9.2.4.</strong> /key/art/$ALBUM_KEY</a></li></ol></li><li class="chapter-item expanded "><a href="rest/map/map.html"><strong aria-hidden="true">9.3.</strong> /map</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rest/map/artist.html"><strong aria-hidden="true">9.3.1.</strong> /map/$ARTIST_NAME</a></li><li class="chapter-item expanded "><a href="rest/map/album.html"><strong aria-hidden="true">9.3.2.</strong> /map/$ARTIST_NAME/$ALBUM_TITLE</a></li><li class="chapter-item expanded "><a href="rest/map/song.html"><strong aria-hidden="true">9.3.3.</strong> /map/$ARTIST_NAME/$ALBUM_TITLE/$SONG_TITLE</a></li></ol></li><li class="chapter-item expanded "><a href="rest/current/current.html"><strong aria-hidden="true">9.4.</strong> /current</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rest/current/artist.html"><strong aria-hidden="true">9.4.1.</strong> /current/artist</a></li><li class="chapter-item expanded "><a href="rest/current/album.html"><strong aria-hidden="true">9.4.2.</strong> /current/album</a></li><li class="chapter-item expanded "><a href="rest/current/song.html"><strong aria-hidden="true">9.4.3.</strong> /current/song</a></li><li class="chapter-item expanded "><a href="rest/current/art.html"><strong aria-hidden="true">9.4.4.</strong> /current/art</a></li></ol></li><li class="chapter-item expanded "><a href="rest/rand/rand.html"><strong aria-hidden="true">9.5.</strong> /rand</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rest/rand/artist.html"><strong aria-hidden="true">9.5.1.</strong> /rand/artist</a></li><li class="chapter-item expanded "><a href="rest/rand/album.html"><strong aria-hidden="true">9.5.2.</strong> /rand/album</a></li><li class="chapter-item expanded "><a href="rest/rand/song.html"><strong aria-hidden="true">9.5.3.</strong> /rand/song</a></li><li class="chapter-item expanded "><a href="rest/rand/art.html"><strong aria-hidden="true">9.5.4.</strong> /rand/art</a></li></ol></li><li class="chapter-item expanded "><a href="rest/art/art.html"><strong aria-hidden="true">9.6.</strong> /art</a></li><li class="chapter-item expanded "><a href="rest/art/artist.html"><strong aria-hidden="true">9.7.</strong> /art/$ARTIST_NAME</a></li><li class="chapter-item expanded "><a href="rest/art/album.html"><strong aria-hidden="true">9.8.</strong> /art/$ARTIST_NAME/$ALBUM_TITLE</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">festivald v0.0.0</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/hinto-janai/festival" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="intro"><a class="header" href="#intro">Intro</a></h1>
<p><code>Festival</code> daemon.</p>
<p><code>festivald</code> is a music server that plays on the device it is running on, while allowing remote access via clients. It can also serve music resources, such as song files, album art, and organized archives of whole artists.</p>
<p>The 3 APIs <code>festivald</code> exposes:</p>
<ul>
<li><a href="https://www.jsonrpc.org/specification"><code>JSON-RPC 2.0</code></a> for state retrieval &amp; signal control</li>
<li><a href="https://en.wikipedia.org/wiki/Representational_state_transfer"><code>REST</code></a> endpoints for serving large resources (audio, art, etc)</li>
<li><a href="intro.html"><code>Documentation</code></a>: <code>festivald</code> serves the very docs you are reading</li>
</ul>
<p>The transport used is <code>HTTP(s)</code>.</p>
<p>For a general quick start, see the next section: <a href="quick-start.html">Quick Start</a>.</p>
<h3 id="clients"><a class="header" href="#clients">Clients</a></h3>
<p>To interact with <code>festivald</code>, you need a client. The reference client is <a href="https://github.com/hinto-janai/festival/tree/main/cli"><code>festival-cli</code></a>.</p>
<p><code>HTTP</code> clients like <code>curl</code>, <code>wget</code> or a web browser will also do.</p>
<p>The documentation will use <code>curl</code> on the default <code>http://localhost:18425</code> for examples.</p>
<p>To see documentation for the more user-friendly <code>festival-cli</code>, see here:<br />
<a href="https://github.com/hinto-janai/festival/blob/main/cli/README.md">https://github.com/hinto-janai/festival/blob/main/cli/README.md</a>.</p>
<h3 id="json-rpc"><a class="header" href="#json-rpc">JSON-RPC</a></h3>
<p>For the <code>JSON-RPC</code> API, anything that can transmit <code>JSON-RPC</code> over <code>HTTP(s)</code> can be a client, like <code>curl</code>:</p>
<pre><code class="language-bash"># Toggle playback.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;}'
</code></pre>
<p>The equivalent <code>wget</code> command:</p>
<pre><code class="language-bash">wget -qO- http://localhost:18425 --post-data '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;}'
</code></pre>
<p>The equivalent <code>festival-cli</code> command:</p>
<pre><code class="language-bash">festival-cli rpc toggle
</code></pre>
<p>For a quick start on the <code>JSON-RPC</code> API, see <a href="json-rpc/quick-start.html">here</a>.</p>
<h3 id="rest"><a class="header" href="#rest">REST</a></h3>
<p>For the <code>REST</code> API, you could use anything that can handle <code>HTTP(s)</code>, like a browser:</p>
<pre><code class="language-http"># Opening this link in a browser will show a small player for this song.
http://localhost:18425/map/Artist Name/Artist Title/Song Title
</code></pre>
<p>The equivalent <code>curl</code> command:</p>
<pre><code class="language-bash">curl -JO http://localhost:18425/map/Artist%20Name/Artist%20Title/Song%20Title
</code></pre>
<p>The equivalent <code>wget</code> command:</p>
<pre><code class="language-bash">wget --content-disposition &quot;http://localhost:18425/map/Artist Name/Artist Title/Song Title&quot;
</code></pre>
<p>The equivalent <code>festival-cli</code> command:</p>
<pre><code class="language-bash">festival-cli rest map --artist &quot;Artist Name&quot; --album &quot;Album Title&quot; --song &quot;Song Title&quot;
</code></pre>
<p>For a quick start on the <code>REST</code> API, see <a href="rest/quick-start.html">here</a>.</p>
<p>To disable the <code>REST</code> API, set the <a href="config.html">config</a> option <code>rest</code> to <code>false</code> OR pass the <code>--disable-rest</code> via <a href="command-line.html">command line</a> on start up.</p>
<h3 id="documentation"><a class="header" href="#documentation">Documentation</a></h3>
<p><code>festivald</code> will also serve <em>this</em> documentation.</p>
<p>To access it, start <code>festivald</code> and open the root link in a web browser:</p>
<pre><code class="language-http">http://localhost:18425
</code></pre>
<p>Or you can open the files locally with:</p>
<pre><code class="language-bash">./festivald data --docs
</code></pre>
<p>To disable serving documentation, set the <a href="config.html">config</a> option <code>docs</code> to <code>false</code> OR pass the <code>--disable-docs</code> via <a href="command-line.html">command line</a> on start up.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h1>
<p>A quick start to using <code>festivald</code> and its <code>JSON-RPC 2.0</code> &amp; <code>REST</code> APIs.</p>
<p>More JSON-RPC specific examples <a href="json-rpc/quick-start.html">here</a>, and more REST specific examples <a href="rest/quick-start.html">here</a>.</p>
<p>Important things to know:</p>
<ol>
<li>The main music library/database in <code>festivald</code> is called the <a href="common-objects/collection.html"><code>Collection</code></a></li>
<li>The <code>Collection</code> is created by scanning the filesystem <code>festivald</code> is running on</li>
<li>Everything revolves around the <code>Collection</code>, you should create one before doing anything</li>
<li>In <code>festivald</code>, there are &quot;objects&quot; that appear often, see <a href="common-objects/common-objects.html"><code>Common Objects</code></a> for more info</li>
</ol>
<h2 id="launch-festivald"><a class="header" href="#launch-festivald">Launch <code>festivald</code></a></h2>
<p>Start <code>festivald</code> with no options:</p>
<pre><code class="language-bash">./festivald
</code></pre>
<p><code>festivald</code> will use a default <a href="config.html"><code>configuration</code></a> and open up on <code>http://localhost:18425</code>.</p>
<p>To view this documentation locally after starting <code>festivald</code>, you can open it in a web browser:</p>
<pre><code class="language-http">http://localhost:18425
</code></pre>
<p>Or you can open the files locally with:</p>
<pre><code class="language-bash">./festivald data --docs
</code></pre>
<h2 id="create-a-collection-with-the-json-rpc-method-new_collection"><a class="header" href="#create-a-collection-with-the-json-rpc-method-new_collection">Create a <code>Collection</code> with the <code>JSON-RPC</code> method <a href="json-rpc/collection/new_collection.html"><code>new_collection</code></a></a></h2>
<p>This scans the default <code>Music</code> directory on <code>festivald</code>'s filesystem and creates a <code>Collection</code> from it.</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;new_collection&quot;,&quot;params&quot;:{&quot;paths&quot;:null}}'
</code></pre>
<h2 id="download-a-random-artist-with-the-rest-endpoint-randartist"><a class="header" href="#download-a-random-artist-with-the-rest-endpoint-randartist">Download a random <code>Artist</code> with the <code>REST</code> endpoint <a href="json-rpc/rest/rand/artist.html"><code>/rand/artist</code></a></a></h2>
<p>Opening this link in a web browser will cause <code>festivald</code> to collect, organize, and archive all the <code>Album</code>'s of a random <code>Artist</code>, and send it over.</p>
<pre><code class="language-http">http://localhost:18425/rand/artist
</code></pre>
<h2 id="view-metadata-about-an-album-with-the-json-rpc-method-map_artist"><a class="header" href="#view-metadata-about-an-album-with-the-json-rpc-method-map_artist">View metadata about an <code>Album</code> with the <code>JSON-RPC</code> method <a href="json-rpc/map/artist.html"><code>map_artist</code></a></a></h2>
<p>This will lookup the <code>Album</code> &quot;Cigarette &amp; Alcohol&quot; by the <code>Artist</code> &quot;LUCKY TAPES&quot;.</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_album&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;LUCKY TAPES&quot;,&quot;album&quot;:&quot;Cigarette &amp; Alcohol&quot;}}'
</code></pre>
<p>The response looks like:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;title&quot;: &quot;Cigarette &amp; Alcohol&quot;,
    &quot;key&quot;: 752,
    &quot;artist&quot;: 169,
    &quot;release&quot;: &quot;2016-07-06&quot;,
    &quot;runtime&quot;: 2593,
    &quot;song_count&quot;: 10,
    &quot;songs&quot;: [
      7611,
      7616,
      7618,
      7619,
      7620,
      7621,
      7622,
      7623,
      7624,
      7626
    ],
    &quot;discs&quot;: 0,
    &quot;art&quot;: 1947006,
    &quot;genre&quot;: null
  },
  &quot;id&quot;: 0
}
</code></pre>
<h2 id="search-for-an-artist-with-the-json-rpc-method-search_artist"><a class="header" href="#search-for-an-artist-with-the-json-rpc-method-search_artist">Search for an <code>Artist</code> with the <code>JSON-RPC</code> method <a href="json-rpc/search/artist.html"><code>search_artist</code></a></a></h2>
<p>This will look up <em>all</em> <code>Artist</code>'s in the <code>Collection</code>, and return the one that is the most similar (lexicographically) to the input &quot;lUcKee TaPeZ&quot;:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_artist&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;lUcKee TaPeZ&quot;,&quot;kind&quot;:&quot;top1&quot;}}'
</code></pre>
<p>We found &quot;LUCKY TAPES&quot;:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;LUCKY TAPES&quot;,
        &quot;key&quot;: 169,
        &quot;runtime&quot;: 2593,
        &quot;albums&quot;: [
          752
        ],
        &quot;songs&quot;: [
          7611,
          7616,
          7618,
          7619,
          7620,
          7621,
          7622,
          7623,
          7624,
          7626
        ]
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="config"><a class="header" href="#config">Config</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="disk"><a class="header" href="#disk">Disk</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="authorization"><a class="header" href="#authorization">Authorization</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line"><a class="header" href="#command-line">Command Line</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-stability"><a class="header" href="#api-stability">API Stability</a></h1>
<p><code>festivald</code>'s JSON output and REST endpoint changes will only be <em>additional</em> until a breaking <code>v2.0.0</code> release.</p>
<p>More JSON fields and/or more REST endpoints could be added in the future, however previous fields and endpoints will remain.</p>
<p>Example old <code>v1.0.0</code> JSON:</p>
<pre><code class="language-json">{
  &quot;old_field&quot;: &quot;This is a field introduced in v1.0.0&quot;,
}
</code></pre>
<p>Example <code>v1.x.x</code>+ JSON:</p>
<pre><code class="language-json">{
  &quot;old_field&quot;: &quot;This is a field introduced in v1.0.0&quot;,
  &quot;new_field&quot;: &quot;I'm new, introduced in a future v1.x.x release&quot;
}
</code></pre>
<p>Example <code>v2.0.0</code> JSON:</p>
<pre><code class="language-json">{
  &quot;new_new_field&quot;: &quot;The entire output is different&quot;,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="common-objects"><a class="header" href="#common-objects">Common Objects</a></h1>
<p>These often appear in many JSON-RPC call outputs.</p>
<p>The definitions of these object's key/value pairs will be here, instead of everywhere they appear in the documentation.</p>
<h2 id="collection"><a class="header" href="#collection">Collection</a></h2>
<p>The <a href="common-objects/collection.html"><code>Collection</code></a> is the main music library/database in <code>festivald</code>.</p>
<h2 id="the-3-common-objects"><a class="header" href="#the-3-common-objects">The 3 Common Objects</a></h2>
<p>The 3 common &quot;objects&quot; that have a set structure are:</p>
<ul>
<li><a href="common-objects/artist.html"><code>Artist</code></a></li>
<li><a href="common-objects/album.html"><code>Album</code></a></li>
<li><a href="common-objects/song.html"><code>Song</code></a></li>
</ul>
<h2 id="keys"><a class="header" href="#keys">Keys</a></h2>
<p>And the number <a href="common-objects/key.html"><code>key</code></a> that acts as the identifier for them:</p>
<ul>
<li><code>Artist</code> key</li>
<li><code>Album</code> key</li>
<li><code>Song</code> key</li>
</ul>
<h2 id="generic-response"><a class="header" href="#generic-response">Generic Response</a></h2>
<p>This is the generic &quot;success&quot; response object, just an empty <code>result</code>:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: null, // &lt;--- everything went ok.
  &quot;id&quot;: 0         // the `result` field existing in JSON-RPC means success,
}                 // so the value in this case (null) doesn't matter.
</code></pre>
<p>This is the response to many JSON-RPC as well, typically the <a href="common-objects/../json-rpc/playback-control/playback-control.html"><code>Playback Control</code></a> methods.</p>
<p>If an error occurred in this situation, the JSON-RPC defined <code>error</code> would be used:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;error&quot;: {          // &lt;--- something went wrong.
    &quot;code&quot;: -1,       // &lt;--- the error code.
    &quot;message&quot;: &quot;...&quot;, // &lt;--- short message of the error.
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection-1"><a class="header" href="#collection-1">Collection</a></h1>
<p>This is the main music &quot;library&quot; or &quot;database&quot; that <code>festivald</code> creates and uses.</p>
<p>It is <em>the</em> central component, and almost all other methods/endpoints use it in some way.</p>
<p>The <code>Collection</code> contains many nested objects, including the common 3:</p>
<ul>
<li><a href="common-objects/artist.html"><code>Artist</code></a></li>
<li><a href="common-objects/album.html"><code>Album</code></a></li>
<li><a href="common-objects/song.html"><code>Song</code></a></li>
</ul>
<p>The <code>sort_*</code> fields are a bunch of <a href="common-objects/key.html">keys</a> that represent an ordering.</p>
<p>For example, the <code>sort_artist_lexi</code> array contains <code>Artist</code> keys that are in <code>Artist</code> name <code>A-Z</code> ordering, so the first <code>Artist</code> in that array will be something like <code>ArtistStartingWithA</code> and the last will probably be something like <code>ZArtist</code>. </p>
<p>String sorting is done lexicographically as per <a href="https://doc.rust-lang.org/std/primitive.str.html#impl-Ord">Rust's string ordering implementation</a>. UTF-8 strings are accepted, so non-English characters and emojis will work, although it is unclear which languages come first/last, or whether ðŸ‘º is before/after ðŸ¤¡. Regardless, the implementation linked handles that.</p>
<p>This full <code>Collection</code> object can be received via the <a href="common-objects/../json-rpc/state-retrieval/state_collection_full.html"><code>state_collection_full</code></a> method.</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>empty</td><td>boolean</td><td>If the <code>Collection</code> does NOT have any <code>Artist</code>'s, <code>Album</code>'s, or <code>Song</code>'s</td></tr>
<tr><td>timestamp</td><td>unsigned integer</td><td>The UNIX timestamp of when this <code>Collection</code> was created</td></tr>
<tr><td>count_artist</td><td>unsigned integer</td><td>How many unique <code>Artist</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_album</td><td>unsigned integer</td><td>How many unique <code>Album</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_song</td><td>unsigned integer</td><td>How many unique <code>Song</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_art</td><td>unsigned integer</td><td>How much unique <code>Album</code> art there are in this <code>Collection</code></td></tr>
<tr><td>artists</td><td>array of <code>Artist</code> objects</td><td>An array of <a href="common-objects/artist.html"><code>Artist</code> objects</a></td></tr>
<tr><td>albums</td><td>array of <code>Album</code> objects</td><td>An array of <a href="common-objects/album.html"><code>Album</code> objects</a></td></tr>
<tr><td>songs</td><td>array of <code>Song</code> objects</td><td>An array of <a href="common-objects/song.html"><code>Song</code> objects</a></td></tr>
<tr><td>sort_artist_lexi</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists A-Z</code></td></tr>
<tr><td>sort_artist_lexi_rev</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists Z-A</code></td></tr>
<tr><td>sort_artist_album_count</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists per album count (least to most)</code></td></tr>
<tr><td>sort_artist_album_count_rev</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists per album count (most to least)</code></td></tr>
<tr><td>sort_artist_song_count</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists per song count (least to most)</code></td></tr>
<tr><td>sort_artist_song_count_rev</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists per song count (most to least)</code></td></tr>
<tr><td>sort_artist_runtime</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists runtime shortest-longest</code></td></tr>
<tr><td>sort_artist_runtime_rev</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artists runtime longest-shortest</code></td></tr>
<tr><td>sort_artist_name</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artist name shortest-longest</code></td></tr>
<tr><td>sort_artist_name_rev</td><td>array of <code>Artist</code> keys (unsigned integers)</td><td><code>Artist name longest-shortest</code></td></tr>
<tr><td>sort_album_release_artist_lexi</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums oldest-latest</code></td></tr>
<tr><td>sort_album_release_artist_lexi_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums oldest-latest</code></td></tr>
<tr><td>sort_album_release_rev_artist_lexi</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums latest-oldest</code></td></tr>
<tr><td>sort_album_release_rev_artist_lexi_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums latest-oldest</code></td></tr>
<tr><td>sort_album_lexi_artist_lexi</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums A-Z</code></td></tr>
<tr><td>sort_album_lexi_artist_lexi_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums A-Z</code></td></tr>
<tr><td>sort_album_lexi_rev_artist_lexi</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums Z-A</code></td></tr>
<tr><td>sort_album_lexi_rev_artist_lexi_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums Z-A</code></td></tr>
<tr><td>sort_album_lexi</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Albums A-Z</code></td></tr>
<tr><td>sort_album_lexi_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Albums Z-A</code></td></tr>
<tr><td>sort_album_release</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Albums oldest-latest</code></td></tr>
<tr><td>sort_album_release_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Albums latest-oldest</code></td></tr>
<tr><td>sort_album_runtime</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Albums shortest-longest</code></td></tr>
<tr><td>sort_album_runtime_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Albums longest-shortest</code></td></tr>
<tr><td>sort_album_title</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Album title shortest-longest</code></td></tr>
<tr><td>sort_album_title_rev</td><td>array of <code>Album</code> keys (unsigned integers)</td><td><code>Album title longest-shortest</code></td></tr>
<tr><td>sort_song_album_release_artist_lexi</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums oldest-latest, songs in track order</code></td></tr>
<tr><td>sort_song_album_release_artist_lexi_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums oldest-latest, songs in track order</code></td></tr>
<tr><td>sort_song_album_release_rev_artist_lexi</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums latest-oldest, songs in track order</code></td></tr>
<tr><td>sort_song_album_release_rev_artist_lexi_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums latest-oldest, songs in track order</code></td></tr>
<tr><td>sort_song_album_lexi_artist_lexi</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums A-Z, songs in track order</code></td></tr>
<tr><td>sort_song_album_lexi_artist_lexi_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums A-Z, songs in track order</code></td></tr>
<tr><td>sort_song_album_lexi_rev_artist_lexi</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists A-Z, albums Z-A, songs in track order</code></td></tr>
<tr><td>sort_song_album_lexi_rev_artist_lexi_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Artists Z-A, albums Z-A, songs in track order</code></td></tr>
<tr><td>sort_song_lexi</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Songs A-Z</code></td></tr>
<tr><td>sort_song_lexi_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Songs Z-A</code></td></tr>
<tr><td>sort_song_release</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Songs oldest-latest</code></td></tr>
<tr><td>sort_song_release_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Songs latest-oldest</code></td></tr>
<tr><td>sort_song_runtime</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Songs shortest-longest</code></td></tr>
<tr><td>sort_song_runtime_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Songs longest-shortest</code></td></tr>
<tr><td>sort_song_title</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Song title shortest-longest</code></td></tr>
<tr><td>sort_song_title_rev</td><td>array of <code>Song</code> keys (unsigned integers)</td><td><code>Song title longest-shortest</code></td></tr>
</tbody></table>
</div>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<pre><code class="language-json">{
  &quot;empty&quot;: false,
  &quot;timestamp&quot;: 1690665271,
  &quot;count_artist&quot;: 3,
  &quot;count_album&quot;: 4,
  &quot;count_song&quot;: 7,
  &quot;count_art&quot;: 4,
  &quot;artists&quot;: [
    {
      &quot;name&quot;: &quot;artist_1&quot;,
      &quot;key&quot;: 0,
      &quot;runtime&quot;: 4,
      &quot;albums&quot;: [
        0,
        1
      ],
      &quot;songs&quot;: [
        0,
        1,
        2,
        3
      ]
    },
    {
      &quot;name&quot;: &quot;artist_2&quot;,
      &quot;key&quot;: 1,
      &quot;runtime&quot;: 2,
      &quot;albums&quot;: [
        2
      ],
      &quot;songs&quot;: [
        4,
        5
      ]
    },
    {
      &quot;name&quot;: &quot;artist_3&quot;,
      &quot;key&quot;: 2,
      &quot;runtime&quot;: 1,
      &quot;albums&quot;: [
        3
      ],
      &quot;songs&quot;: [
        6
      ]
    }
  ],
  &quot;albums&quot;: [
    {
      &quot;title&quot;: &quot;album_1&quot;,
      &quot;key&quot;: 0,
      &quot;artist&quot;: 0,
      &quot;release&quot;: &quot;2018-04-25&quot;,
      &quot;runtime&quot;: 2,
      &quot;song_count&quot;: 2,
      &quot;songs&quot;: [
        0,
        1
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 10239,
      &quot;genre&quot;: null
    },
    {
      &quot;title&quot;: &quot;album_2&quot;,
      &quot;key&quot;: 1,
      &quot;artist&quot;: 0,
      &quot;release&quot;: &quot;2018-04-25&quot;,
      &quot;runtime&quot;: 2,
      &quot;song_count&quot;: 2,
      &quot;songs&quot;: [
        2,
        3
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 10239,
      &quot;genre&quot;: null
    },
    {
      &quot;title&quot;: &quot;album_3&quot;,
      &quot;key&quot;: 2,
      &quot;artist&quot;: 1,
      &quot;release&quot;: &quot;2018-04-25&quot;,
      &quot;runtime&quot;: 2,
      &quot;song_count&quot;: 2,
      &quot;songs&quot;: [
        4,
        5
      ],
      &quot;discs&quot;: 1,
      &quot;art&quot;: 10239,
      &quot;genre&quot;: null
    },
    {
      &quot;title&quot;: &quot;album_4&quot;,
      &quot;key&quot;: 3,
      &quot;artist&quot;: 2,
      &quot;release&quot;: &quot;2018-04-25&quot;,
      &quot;runtime&quot;: 1,
      &quot;song_count&quot;: 1,
      &quot;songs&quot;: [
        6
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 10239,
      &quot;genre&quot;: null
    }
  ],
  &quot;songs&quot;: [
    {
      &quot;title&quot;: &quot;mp3&quot;,
      &quot;key&quot;: 0,
      &quot;album&quot;: 0,
      &quot;runtime&quot;: 1,
      &quot;sample_rate&quot;: 48000,
      &quot;track&quot;: 1,
      &quot;disc&quot;: 2,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    },
    {
      &quot;title&quot;: &quot;mp3&quot;,
      &quot;key&quot;: 1,
      &quot;album&quot;: 0,
      &quot;runtime&quot;: 1,
      &quot;sample_rate&quot;: 48000,
      &quot;track&quot;: 2,
      &quot;disc&quot;: 2,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    },
    {
      &quot;title&quot;: &quot;mp3&quot;,
      &quot;key&quot;: 2,
      &quot;album&quot;: 1,
      &quot;runtime&quot;: 1,
      &quot;sample_rate&quot;: 48000,
      &quot;track&quot;: 1,
      &quot;disc&quot;: 2,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    },
    {
      &quot;title&quot;: &quot;flac&quot;,
      &quot;key&quot;: 3,
      &quot;album&quot;: 1,
      &quot;runtime&quot;: 1,
      &quot;sample_rate&quot;: 48000,
      &quot;track&quot;: 2,
      &quot;disc&quot;: 2,
      &quot;mime&quot;: &quot;audio/x-flac&quot;,
      &quot;extension&quot;: &quot;flac&quot;
    },
    {
      &quot;title&quot;: &quot;m4a&quot;,
      &quot;key&quot;: 4,
      &quot;album&quot;: 2,
      &quot;runtime&quot;: 1,
      &quot;sample_rate&quot;: 48000,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/m4a&quot;,
      &quot;extension&quot;: &quot;m4a&quot;
    },
    {
      &quot;title&quot;: &quot;song_6&quot;,
      &quot;key&quot;: 5,
      &quot;album&quot;: 2,
      &quot;runtime&quot;: 1,
      &quot;sample_rate&quot;: 48000,
      &quot;track&quot;: 2,
      &quot;disc&quot;: 2,
      &quot;mime&quot;: &quot;audio/ogg&quot;,
      &quot;extension&quot;: &quot;ogg&quot;
    },
    {
      &quot;title&quot;: &quot;mp3&quot;,
      &quot;key&quot;: 6,
      &quot;album&quot;: 3,
      &quot;runtime&quot;: 1,
      &quot;sample_rate&quot;: 48000,
      &quot;track&quot;: 1,
      &quot;disc&quot;: 2,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  ],
  &quot;sort_artist_lexi&quot;: [
    0,
    1,
    2
  ],
  &quot;sort_artist_lexi_rev&quot;: [
    2,
    1,
    0
  ],
  &quot;sort_artist_album_count&quot;: [
    1,
    2,
    0
  ],
  &quot;sort_artist_album_count_rev&quot;: [
    0,
    2,
    1
  ],
  &quot;sort_artist_song_count&quot;: [
    2,
    1,
    0
  ],
  &quot;sort_artist_song_count_rev&quot;: [
    0,
    1,
    2
  ],
  &quot;sort_artist_runtime&quot;: [
    2,
    1,
    0
  ],
  &quot;sort_artist_runtime_rev&quot;: [
    0,
    1,
    2
  ],
  &quot;sort_artist_name&quot;: [
    0,
    1,
    2
  ],
  &quot;sort_artist_name_rev&quot;: [
    2,
    1,
    0
  ],
  &quot;sort_album_release_artist_lexi&quot;: [
    0,
    1,
    2,
    3
  ],
  &quot;sort_album_release_artist_lexi_rev&quot;: [
    3,
    2,
    0,
    1
  ],
  &quot;sort_album_release_rev_artist_lexi&quot;: [
    1,
    0,
    2,
    3
  ],
  &quot;sort_album_release_rev_artist_lexi_rev&quot;: [
    3,
    2,
    1,
    0
  ],
  &quot;sort_album_lexi_artist_lexi&quot;: [
    0,
    1,
    2,
    3
  ],
  &quot;sort_album_lexi_artist_lexi_rev&quot;: [
    3,
    2,
    0,
    1
  ],
  &quot;sort_album_lexi_rev_artist_lexi&quot;: [
    1,
    0,
    2,
    3
  ],
  &quot;sort_album_lexi_rev_artist_lexi_rev&quot;: [
    3,
    2,
    1,
    0
  ],
  &quot;sort_album_lexi&quot;: [
    0,
    1,
    2,
    3
  ],
  &quot;sort_album_lexi_rev&quot;: [
    3,
    2,
    1,
    0
  ],
  &quot;sort_album_release&quot;: [
    0,
    1,
    2,
    3
  ],
  &quot;sort_album_release_rev&quot;: [
    3,
    2,
    1,
    0
  ],
  &quot;sort_album_runtime&quot;: [
    3,
    0,
    1,
    2
  ],
  &quot;sort_album_runtime_rev&quot;: [
    2,
    1,
    0,
    3
  ],
  &quot;sort_album_title&quot;: [
    0,
    1,
    2,
    3
  ],
  &quot;sort_album_title_rev&quot;: [
    3,
    2,
    1,
    0
  ],
  &quot;sort_song_album_release_artist_lexi&quot;: [
    0,
    1,
    2,
    3,
    4,
    5,
    6
  ],
  &quot;sort_song_album_release_artist_lexi_rev&quot;: [
    6,
    4,
    5,
    0,
    1,
    2,
    3
  ],
  &quot;sort_song_album_release_rev_artist_lexi&quot;: [
    2,
    3,
    0,
    1,
    4,
    5,
    6
  ],
  &quot;sort_song_album_release_rev_artist_lexi_rev&quot;: [
    6,
    4,
    5,
    2,
    3,
    0,
    1
  ],
  &quot;sort_song_album_lexi_artist_lexi&quot;: [
    0,
    1,
    2,
    3,
    4,
    5,
    6
  ],
  &quot;sort_song_album_lexi_artist_lexi_rev&quot;: [
    6,
    4,
    5,
    0,
    1,
    2,
    3
  ],
  &quot;sort_song_album_lexi_rev_artist_lexi&quot;: [
    2,
    3,
    0,
    1,
    4,
    5,
    6
  ],
  &quot;sort_song_album_lexi_rev_artist_lexi_rev&quot;: [
    6,
    4,
    5,
    2,
    3,
    0,
    1
  ],
  &quot;sort_song_lexi&quot;: [
    3,
    4,
    0,
    1,
    2,
    6,
    5
  ],
  &quot;sort_song_lexi_rev&quot;: [
    5,
    6,
    2,
    1,
    0,
    4,
    3
  ],
  &quot;sort_song_release&quot;: [
    0,
    1,
    2,
    3,
    4,
    5,
    6
  ],
  &quot;sort_song_release_rev&quot;: [
    6,
    5,
    4,
    3,
    2,
    1,
    0
  ],
  &quot;sort_song_runtime&quot;: [
    0,
    1,
    2,
    3,
    4,
    5,
    6
  ],
  &quot;sort_song_runtime_rev&quot;: [
    6,
    5,
    4,
    3,
    2,
    1,
    0
  ],
  &quot;sort_song_title&quot;: [
    0,
    1,
    2,
    4,
    6,
    3,
    5
  ],
  &quot;sort_song_title_rev&quot;: [
    5,
    3,
    6,
    4,
    2,
    1,
    0
  ]
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key"><a class="header" href="#key">Key</a></h1>
<p><a href="common-objects/common-objects.html"><code>Common Objects</code></a> all have an unsigned integer associated with them:</p>
<ul>
<li><a href="common-objects/artist.html"><code>Artist</code></a></li>
<li><a href="common-objects/album.html"><code>Album</code></a></li>
<li><a href="common-objects/song.html"><code>Song</code></a></li>
</ul>
<p>These keys directly map to a given object, and can be used to retrieve them.</p>
<p>In the case of <code>Album</code> art, the <code>Album</code> key doubles as the key (since art belongs to an album), so to access the art of <code>Album</code> 123 in the <code>REST</code> API, you would use:</p>
<pre><code class="language-http">http://localhost:18425/key/art/123
</code></pre>
<h2 id="where"><a class="header" href="#where">Where</a></h2>
<p><code>Key</code>'s can be found in multiple <code>JSON-RPC</code> methods, such as <a href="common-objects/../json-rpc/map/map_artist.html"><code>map_artist</code></a>, <a href="common-objects/../json-rpc/search/search_album.html"><code>search_album</code></a>, etc.</p>
<p>Each object contains its own key within itself as well, and there are links in-between them:</p>
<pre><code class="language-plaintext">                 Artist_1                       Artist_2
              ______|______                  ______|_________________
             /             \                /             \          \
          Album_1        Album_5         Album_34        Album_4    Album_8
          __|__           __|__           __|__          __|__         \___        
         /     \         /     \         /     \        /     \            \
[Song_1, Song_6, ...] [Song_3, ...]  [Song_76, ...] [Song_45, ...]   [Song_41, ...]
</code></pre>
<ol>
<li>An <code>Artist</code> contains keys leading to <code>Album</code>'s</li>
<li><code>Album</code>'s have a key pointing back to the owning <code>Artist</code>, and keys leading to <code>Song</code>'s</li>
<li><code>Song</code>'s have a key pointing back to the owning <code>Album</code></li>
</ol>
<p>For convenience, all <code>Artist</code>'s also have an array of all their <code>Song</code>'s.</p>
<p><code>Key</code>' are unique <em>per</em> object group, meaning there is an <code>Artist</code> 0 key AND <code>Album</code> 0 key AND <code>Song</code> 0 key.</p>
<p>The actual number value of <code>Key</code>'s aren't significant, and should be treated as random. A <code>Song</code> key array within an <code>Album</code> won't necessarily be incrementing by 1, e.g, <code>[0, 1, 2, ...]</code>. It could be <code>[0, 6, 112, 3, ...]</code>. Same with <code>Album</code> keys within <code>Artist</code>'s.</p>
<h2 id="why"><a class="header" href="#why">Why</a></h2>
<p><code>Key</code>'s are a number that represent direct access to a unique <code>Artist</code>/<code>Album</code>/<code>Song</code>.</p>
<p>Think of it as an index into an array (that's what they really are, implemented).</p>
<p>The <code>key_*</code> variants of <code>JSON-RPC</code> methods and <code>REST</code> endpoints are usually faster than the <code>string</code> variants as well, since there is no lookup, we directly index with the <code>Key</code>.</p>
<h2 id="why-not"><a class="header" href="#why-not">Why NOT</a></h2>
<p><code>Key</code>'s can only be relied upon as long as the <code>Collection</code> has not been reset.</p>
<p>When the <code>Collection</code> is reset, it is not guaranteed that the same key will map to the same object. Using <code>map_*</code> and <code>search_*</code> methods as the main way to retrieve information may be more convenient so that <code>Artist</code> names, <code>Album</code> and <code>Song</code> titles can be used as inputs instead.</p>
<p>The main reasons key's exists:</p>
<ul>
<li>Accessing objects via a key is faster than with <code>string</code> inputs</li>
<li>Storing/sending/parsing integers is faster than <code>string</code>'s</li>
<li>As long as your <code>Collection</code> is stable, the key's are stable</li>
</ul>
<h2 id="example-1"><a class="header" href="#example-1">Example</a></h2>
<p>Let's search for a song that has a title similar to: &quot;hello&quot;</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_song&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;hello&quot;,&quot;kind&quot;:&quot;top1&quot;}}'
</code></pre>
<p>The output gives us back a <code>Song</code> object, which contains some keys:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;songs&quot;: [
      {
        &quot;title&quot;: &quot;HELLO&quot;,
        &quot;key&quot;: 15850,   // &lt;--- This is the `Song`'s key
        &quot;album&quot;: 737,   // &lt;--- This is the key of the `Album` this `Song` belongs too
        &quot;runtime&quot;: 243,
        &quot;sample_rate&quot;: 44100,
        &quot;track&quot;: 8,
        &quot;disc&quot;: 1,
        &quot;mime&quot;: &quot;audio/x-flac&quot;,
        &quot;extension&quot;: &quot;flac&quot;
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<p>We can now use that <code>Album</code> key to get the <code>Album</code>:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_album&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;737&quot;}}'
</code></pre>
<p>And we get the <code>Album</code> object back:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;title&quot;: &quot;Hero&quot;,
    &quot;key&quot;: 737,    // &lt;--- This is the `Album`'s key
    &quot;artist&quot;: 196, // &lt;--- This is the key of the `Artist` this `Album` belongs too
    &quot;release&quot;: &quot;2001-12-29&quot;,
    &quot;runtime&quot;: 4676,
    &quot;song_count&quot;: 3,
    &quot;songs&quot;: [
      15850, // &lt;--- Hey look, it's the original `Song` key
      9771,
      15853
    ],
    &quot;discs&quot;: 0,
    &quot;art&quot;: 8348685,
    &quot;genre&quot;: null
  },
  &quot;id&quot;: 0
}
</code></pre>
<p>We can now use that <code>Artist</code> key to get the <code>Artist</code>:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;196&quot;}}'
</code></pre>
<p>And we get the <code>Artist</code> object back:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;name&quot;: &quot;Tac&quot;,
    &quot;key&quot;: 196, // &lt;--- This is the `Artist`' key
    &quot;runtime&quot;: 15636,
    &quot;albums&quot;: [
      737, // &lt;--- Hey look, it's the original `Album` key
    ],
    &quot;songs&quot;: [
      15850, // &lt;--- Hey look, it's the original `Song` key
      9771,
      15853
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<p>With these keys, you traverse up and down the relational graph.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="artist"><a class="header" href="#artist">Artist</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>name</td><td>string</td><td>The <code>Artist</code>'s name</td></tr>
<tr><td>key</td><td><code>Artist</code> key (unsigned integer)</td><td>The <code>Artist</code> key associated with this <code>Artist</code></td></tr>
<tr><td>runtime</td><td>unsigned integer</td><td>The total runtime of all songs owned by this <code>Artist</code> in seconds</td></tr>
<tr><td>albums</td><td>array of <code>Album</code> keys (unsigned integers)</td><td>Keys to all <code>Album</code>'s owned by this <code>Artist</code>, in release order</td></tr>
<tr><td>songs</td><td>array of <code>Song</code> keys (unsigned integers)</td><td>Keys to all <code>Songs</code>'s owned by this <code>Artist</code>, in <code>Album</code> release order, then <code>Song</code> track order</td></tr>
</tbody></table>
</div>
<h4 id="example-2"><a class="header" href="#example-2">Example</a></h4>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;Artist Name&quot;,
  &quot;key&quot;: 65,
  &quot;runtime&quot;: 7583,
  &quot;albums&quot;: [
    255,
    263
  ],
  &quot;songs&quot;: [
    2829,
    2832,
    2835,
    2841
  ]
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="album"><a class="header" href="#album">Album</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>title</td><td>string</td><td>The title of this <code>Album</code></td></tr>
<tr><td>key</td><td><code>Album</code> key (unsigned integer)</td><td>The <code>Album</code> key associated with this <code>Album</code></td></tr>
<tr><td>artist</td><td><code>Artist</code> key (unsigned integer)</td><td>The <code>Artist</code> key of the <code>Artist</code> that owns this <code>Album</code></td></tr>
<tr><td>release</td><td>string</td><td>Release date of this <code>Album</code> in <code>YYYY-MM-DD</code>/<code>YYYY-MM</code>/<code>YYYY</code> format, <code>????-??-??</code> if unknown</td></tr>
<tr><td>runtime</td><td>unsigned integer</td><td>The total runtime of this <code>Album</code> in seconds</td></tr>
<tr><td>song_count</td><td>unsigned integer</td><td>How many <code>Song</code>'s are in this <code>Album</code></td></tr>
<tr><td>songs</td><td>array of <code>Song</code> keys (unsigned integers)</td><td>Keys to all of the <code>Song</code>'s in this <code>Album</code>, in track order</td></tr>
<tr><td>discs</td><td>unsigned integer</td><td>Count of how many &quot;discs&quot; are in this <code>Album</code>, most will be <code>0</code></td></tr>
<tr><td>art</td><td>optional (maybe null) unsigned integer</td><td>Size of this <code>Album</code>'s art in bytes, <code>null</code> if not found</td></tr>
<tr><td>genre</td><td>optional (maybe null) string</td><td>Genre of this <code>Album</code>, <code>null</code> if not found</td></tr>
</tbody></table>
</div>
<h4 id="example-3"><a class="header" href="#example-3">Example</a></h4>
<pre><code class="language-json">{
  &quot;title&quot;: &quot;Album Title&quot;,
  &quot;key&quot;: 100,
  &quot;artist&quot;: 16,
  &quot;release&quot;: &quot;2011-07-13&quot;,
  &quot;runtime&quot;: 2942,
  &quot;song_count&quot;: 3,
  &quot;songs&quot;: [
    972,
    1024,
    1051,
  ],
  &quot;discs&quot;: 0,
  &quot;art&quot;: 306410,
  &quot;genre&quot;: null
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="song"><a class="header" href="#song">Song</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>title</td><td>string</td><td>The title of this <code>Song</code></td></tr>
<tr><td>key</td><td><code>Song</code> key (unsigned integer)</td><td>The <code>Song</code> key associated with this <code>Song</code></td></tr>
<tr><td>album</td><td><code>Album</code> key (unsigned integer)</td><td>The <code>Album</code> key of the <code>Album</code> this <code>Song</code> is from</td></tr>
<tr><td>runtime</td><td>unsigned integer</td><td>The total runtime of this <code>Song</code> in seconds</td></tr>
<tr><td>sample_rate</td><td>unsigned integer</td><td>The sample rate of this <code>Song</code> in hertz, e.g: <code>44100</code></td></tr>
<tr><td>track</td><td>optional (maybe null) unsigned integer</td><td>Track number of this <code>Song</code>, <code>null</code> if not found</td></tr>
<tr><td>disc</td><td>optional (maybe null) unsigned integer</td><td>Disc number this <code>Song</code> belongs to, <code>null</code> if not found</td></tr>
</tbody></table>
</div>
<h4 id="example-4"><a class="header" href="#example-4">Example</a></h4>
<pre><code class="language-json">{
  &quot;title&quot;: &quot;Song Title&quot;,
  &quot;key&quot;: 401,
  &quot;album&quot;: 42,
  &quot;runtime&quot;: 132,
  &quot;sample_rate&quot;: 44100,
  &quot;track&quot;: 5,
  &quot;disc&quot;: null
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="json-rpc-1"><a class="header" href="#json-rpc-1">JSON-RPC</a></h1>
<p><code>festivald</code> exposes a <a href="https://www.jsonrpc.org/specification"><code>JSON-RPC 2.0</code></a> API for general state retrieval &amp; signal control.</p>
<p>It can be accessed by sending a POST HTTP request containing a <code>JSON-RPC 2.0</code> request in the body, to the root endpoint, <code>/</code>.</p>
<p>For a quick start on using it, see the next section: <a href="json-rpc/quick-start.html">Quick Start</a>.</p>
<h3 id="example-json-rpc-20-request"><a class="header" href="#example-json-rpc-20-request">Example <code>JSON-RPC 2.0</code> <em>request</em>:</a></h3>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,   // JSON-RPC version. MUST be exactly &quot;2.0&quot;
  &quot;method&quot;: &quot;method&quot;, // A string of the method name
  &quot;param&quot;: null,      // Optional parameters needed by the method
  &quot;id&quot;: 0,            // An ID, MUST be a String, Number, or NULL value if included
}
</code></pre>
<h3 id="example-shell-script-for-sending-a-request"><a class="header" href="#example-shell-script-for-sending-a-request">Example Shell script for sending a request:</a></h3>
<pre><code class="language-bash">IP=localhost             # ip of festivald
PORT=18425               # port of festivald
METHOD='previous'        # the method to call
PARAMS='{&quot;threshold&quot;:3}' # the parameters of the method
ID=0                     # the ID of this request

# Send JSON-RPC request to goto the previous song
# (or reset the current, if more than 3 seconds has passed).
curl \
    http://$IP:$PORT \
    -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:$ID,&quot;method&quot;:&quot;'$METHOD'&quot;,&quot;params&quot;:'$PARAMS'}'
</code></pre>
<h3 id="example-json-rpc-20-successful-response"><a class="header" href="#example-json-rpc-20-successful-response">Example <code>JSON-RPC 2.0</code> SUCCESSFUL <em>response</em>:</a></h3>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;, // JSON-RPC version. Will always be exactly &quot;2.0&quot;
  &quot;result&quot;: {       // The field containing the result of the SUCCESSFUL response
    // This can contain fields that
    // are nested arbitrarily deep.
    // Although, most times they
    // will be simple &quot;key&quot;: value
    // pairs.
  },
  &quot;id&quot;: 0, // The ID associated with the client
}
</code></pre>
<h3 id="example-json-rpc-20-failed-response"><a class="header" href="#example-json-rpc-20-failed-response">Example <code>JSON-RPC 2.0</code> FAILED <em>response</em>:</a></h3>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;, // JSON-RPC version. Will always be exactly &quot;2.0&quot;
  &quot;error&quot;: {        // The field containing the result of the FAILED response
    &quot;code&quot;: -32601, // A number that indicates the error type that occurred
    &quot;message&quot;: &quot;&quot;,  // A string providing a short description of the error
    &quot;data&quot;: null,   // An OPTIONAL field containing extra data about the error
  },
  &quot;id&quot;: 0, // The ID associated with the client
}
</code></pre>
<h3 id="parameters"><a class="header" href="#parameters">Parameters</a></h3>
<p>For methods without parameters, the field can be omitted:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;}'
</code></pre>
<p>All method documentation will include what inputs it needs, what output to expect, and examples.</p>
<p>All method names, parameter names, and field names are in <code>lower_case_snake_case</code>.</p>
<p>The title of the section itself is the method name, for example, <a href="json-rpc/collection/new_collection.html"><code>new_collection</code></a> <em>is</em> the method name.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="json-rpc-quick-start"><a class="header" href="#json-rpc-quick-start"><code>JSON-RPC</code> Quick Start</a></h1>
<p>A quick start to using <code>festivald</code>'s <code>JSON-RPC 2.0</code> API.</p>
<h2 id="create-the-collection-and-start-playing-an-artist"><a class="header" href="#create-the-collection-and-start-playing-an-artist">Create the <code>Collection</code> and start playing an <code>Artist</code></a></h2>
<ol>
<li>First, scan the default <code>Music</code> directory on <code>festivald</code>'s filesystem, and create a <code>Collection</code> with <a href="json-rpc/collection/new_collection.html"><code>new_collection</code></a>:</li>
</ol>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;new_collection&quot;,&quot;params&quot;:{&quot;paths&quot;:null}}'
</code></pre>
<ol start="2">
<li>Add the <code>Artist</code> &quot;LUCKY TAPES&quot; to the queue with <a href="json-rpc/playback-control/add_queue_map_artist.html"><code>add_queue_map_artist</code></a>:</li>
</ol>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;LUCKY TAPES&quot;}}'
</code></pre>
<ol start="3">
<li>Start playing with <a href="json-rpc/playback-control/play.html"><code>play</code></a>:</li>
</ol>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;play&quot;}'
</code></pre>
<h2 id="view-state-of-current-audio-playback-with-state_audio"><a class="header" href="#view-state-of-current-audio-playback-with-state_audio">View state of current audio playback with <a href="json-rpc/state/state_audio.html"><code>state_audio</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;state_audio&quot;}'
</code></pre>
<h2 id="set-the-volume-to-10-with-volume"><a class="header" href="#set-the-volume-to-10-with-volume">Set the volume to 10% with <a href="json-rpc/playback-control/volume.html"><code>volume</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;volume&quot;,&quot;params&quot;:{&quot;volume&quot;:10}}'
</code></pre>
<h2 id="view-the-current-album-with-current_album"><a class="header" href="#view-the-current-album-with-current_album">View the current <code>Album</code> with <a href="json-rpc/current/current_album.html"><code>current_album</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_album&quot;}'
</code></pre>
<h2 id="clear-the-queue-and-stop-playback-with-stop"><a class="header" href="#clear-the-queue-and-stop-playback-with-stop">Clear the queue and stop playback with <a href="json-rpc/playback-control/stop.html"><code>stop</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;stop&quot;}'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection-2"><a class="header" href="#collection-2">Collection</a></h1>
<p>Methods related to the <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="new_collection"><a class="header" href="#new_collection">new_collection</a></h1>
<p>Create a new <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a> (and replace the current one).</p>
<p><code>festivald</code> will respond with some stats when the <code>Collection</code> reset has finished.</p>
<p>The output is a superset of the <a href="json-rpc/collection/../state-retrieval/state_collection.html"><code>state_collection</code></a> method.</p>
<h4 id="inputs"><a class="header" href="#inputs">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>paths</td><td>optional (maybe null) array of PATHs</td><td>An array of filesystem PATHs to scan for the new <code>Collection</code>. These must be absolute PATHs <strong>on the system <code>festivald</code> is running on</strong>, not PATHs on the client. If <code>null</code> is provided, the default <code>Music</code> directory will be used.</td></tr>
</tbody></table>
</div>
<h4 id="outputs"><a class="header" href="#outputs">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>time</td><td>float</td><td>How many seconds the reset took</td></tr>
<tr><td>empty</td><td>boolean</td><td>If the <code>Collection</code> does NOT have any <code>Artist</code>'s, <code>Album</code>'s, or <code>Song</code>'s</td></tr>
<tr><td>timestamp</td><td>unsigned integer</td><td>The UNIX timestamp of when this <code>Collection</code> was created</td></tr>
<tr><td>count_artist</td><td>unsigned integer</td><td>How many unique <code>Artist</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_album</td><td>unsigned integer</td><td>How many unique <code>Album</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_song</td><td>unsigned integer</td><td>How many unique <code>Song</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_art</td><td>unsigned integer</td><td>How much unique <code>Album</code> art there are in this <code>Collection</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request"><a class="header" href="#example-request">Example Request</a></h4>
<pre><code class="language-bash"># Use default Music PATH.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;new_collection&quot;,&quot;params&quot;:{&quot;paths&quot;:null}}'
# Use the PATH `/home/user/Music/collection` on `festivald`'s filesystem.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;new_collection&quot;,&quot;params&quot;:{&quot;paths&quot;:[&quot;/home/user/Music/collection&quot;]}}'
# Windows PATH works too if `\` is escaped (and if `festivald` is running on Windows).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;new_collection&quot;,&quot;params&quot;:{&quot;paths&quot;:[&quot;C:\\Users\\User\\Music\\collection&quot;]}}'
</code></pre>
<h4 id="example-response"><a class="header" href="#example-response">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;time&quot;: 0.462621988,
    &quot;empty&quot;: false,
    &quot;timestamp&quot;: 1690579397,
    &quot;count_artist&quot;: 195,
    &quot;count_album&quot;: 825,
    &quot;count_song&quot;: 8543,
    &quot;count_art&quot;: 824
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state-retrieval"><a class="header" href="#state-retrieval">State Retrieval</a></h1>
<p>These methods are for retrieving state, and do not mutate any part of the system.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_daemon"><a class="header" href="#state_daemon">state_daemon</a></h1>
<p>Retrieve state about the status of <code>festivald</code> itself.</p>
<h4 id="inputs-1"><a class="header" href="#inputs-1">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-1"><a class="header" href="#outputs-1">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>uptime</td><td>unsigned integer</td><td>Uptime of <code>festivald</code> in seconds</td></tr>
<tr><td>total_requests</td><td>unsigned integer</td><td>Total amount of requests this <code>festivald</code> has received since starting</td></tr>
<tr><td>total_connections</td><td>unsigned integer</td><td>Total amount of connections <code>festivald</code> has gotten since starting</td></tr>
<tr><td>current_connections</td><td>unsigned integer</td><td>Amount of open connections <code>festivald</code> currently has</td></tr>
<tr><td>rest</td><td>boolean</td><td>If this <code>festivald</code>'s <code>REST</code> API is enabled</td></tr>
<tr><td>docs</td><td>boolean</td><td>If this <code>festivald</code>'s documentation serving is enabled</td></tr>
<tr><td>direct_download</td><td>boolean</td><td>If this <code>festivald</code>'s <code>REST</code> API has <code>direct_download</code> enabled</td></tr>
<tr><td>authorization</td><td>boolean</td><td>If this <code>festivald</code> has authorization enabled</td></tr>
<tr><td>version</td><td>string</td><td>Semantic version of this <code>festivald</code></td></tr>
<tr><td>commit</td><td>string</td><td>Git commit of this <code>festivald</code></td></tr>
<tr><td>os</td><td>string</td><td>The OS this <code>festivald</code> was built for</td></tr>
</tbody></table>
</div>
<h4 id="example-request-1"><a class="header" href="#example-request-1">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;state_daemon&quot;}'
</code></pre>
<h4 id="example-response-1"><a class="header" href="#example-response-1">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;uptime&quot;: 43,
    &quot;total_requests&quot;: 1447,
    &quot;total_connections&quot;: 297,
    &quot;current_connections&quot;: 3,
    &quot;rest&quot;: true,
    &quot;direct_download&quot;: false,
    &quot;authorization&quot;: false,
    &quot;version&quot;: &quot;v1.0.0&quot;,
    &quot;commit&quot;: &quot;ae086becca9a603b53ded80de870794858c272d0&quot;,
    &quot;os&quot;: &quot;Linux x64&quot;
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_audio"><a class="header" href="#state_audio">state_audio</a></h1>
<p>Retrieve audio state.</p>
<h4 id="inputs-2"><a class="header" href="#inputs-2">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-2"><a class="header" href="#outputs-2">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>queue</td><td>array of <code>Song</code> keys (unsigned integers)</td><td>Array of <code>Song</code> keys that are in the queue, in order of what will be played next</td></tr>
<tr><td>queue_idx</td><td>optional (maybe null) unsigned integer</td><td>The queue index <code>festivald</code> is currently on, <code>null</code> if no <code>Song</code> is set</td></tr>
<tr><td>playing</td><td>boolean</td><td>If <code>festivald</code> is currently playing</td></tr>
<tr><td>song_key</td><td>optional (maybe null) <code>Song</code> key (unsigned integer)</td><td>The key of current <code>Song</code>, <code>null</code> if no <code>Song</code> is set</td></tr>
<tr><td>elapsed</td><td>unsigned integer</td><td>Elapsed runtime of current <code>Song</code> in seconds</td></tr>
<tr><td>runtime</td><td>unsigned integer</td><td>Total runtime of current <code>Song</code> in seconds</td></tr>
<tr><td>repeat</td><td>string, one of <code>song</code>, <code>queue</code>, or <code>off</code></td><td>Audio repeat behavior. <code>song</code> means the <code>Song</code> will repeat after ending, <code>queue</code> means the whole queue will repeat after ending, <code>off</code> means the queue will be cleared and playback will stop when ending</td></tr>
<tr><td>volume</td><td>unsigned integer in between <code>0..100</code></td><td>The current volume level</td></tr>
<tr><td>song</td><td>optional (maybe null) <code>Song</code> object</td><td>The current <code>Song</code> as an object, <code>null</code> if no <code>Song</code> is set</td></tr>
</tbody></table>
</div>
<h4 id="example-request-2"><a class="header" href="#example-request-2">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;state_audio&quot;}'
</code></pre>
<h4 id="example-response-2"><a class="header" href="#example-response-2">Example Response</a></h4>
<pre><code>{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;queue&quot;: [
      1286,
      1340,
      12248
    ],
    &quot;queue_idx&quot;: 0,
    &quot;playing&quot;: true,
    &quot;song_key&quot;: 1286,
    &quot;elapsed&quot;: 9,
    &quot;runtime&quot;: 349,
    &quot;repeat&quot;: &quot;off&quot;,
    &quot;volume&quot;: 25,
    &quot;song&quot;: {
      &quot;title&quot;: &quot;ã„ã¤ã‹&quot;,
      &quot;key&quot;: 1286,
      &quot;album&quot;: 146,
      &quot;runtime&quot;: 349,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: 1
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_reset"><a class="header" href="#state_reset">state_reset</a></h1>
<p>Retrieve the current state of a <a href="json-rpc/state-retrieval/../../common-objects/collection.html"><code>Collection</code></a> reset.</p>
<h4 id="inputs-3"><a class="header" href="#inputs-3">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-3"><a class="header" href="#outputs-3">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>resetting</td><td>boolean</td><td>Whether <code>festivald</code> is currently in the process of resetting the <code>Collection</code></td></tr>
<tr><td>saving</td><td>boolean</td><td>Whether <code>festivald</code> is currently saving a newly created <code>Collection</code> to disk</td></tr>
</tbody></table>
</div>
<h4 id="example-request-3"><a class="header" href="#example-request-3">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;state_reset&quot;}'
</code></pre>
<h4 id="example-response-3"><a class="header" href="#example-response-3">Example Response</a></h4>
<pre><code>{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;resetting&quot;: false,
    &quot;saving&quot;: true
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_collection"><a class="header" href="#state_collection">state_collection</a></h1>
<p>Retrieve some brief metadata about the current <a href="json-rpc/state-retrieval/../../common-objects/collection.html"><code>Collection</code></a>.</p>
<p>This method is a subset of the <a href="json-rpc/state-retrieval/state_collection_full.html"><code>state_collection_full</code></a> method.</p>
<h4 id="inputs-4"><a class="header" href="#inputs-4">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-4"><a class="header" href="#outputs-4">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>empty</td><td>boolean</td><td>If the <code>Collection</code> does NOT have any <code>Artist</code>'s, <code>Album</code>'s, or <code>Song</code>'s</td></tr>
<tr><td>timestamp</td><td>unsigned integer</td><td>The UNIX timestamp of when this <code>Collection</code> was created</td></tr>
<tr><td>count_artist</td><td>unsigned integer</td><td>How many unique <code>Artist</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_album</td><td>unsigned integer</td><td>How many unique <code>Album</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_song</td><td>unsigned integer</td><td>How many unique <code>Song</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_art</td><td>unsigned integer</td><td>How much unique <code>Album</code> art there are in this <code>Collection</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request-4"><a class="header" href="#example-request-4">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;state_collection&quot;}'
</code></pre>
<h4 id="example-response-4"><a class="header" href="#example-response-4">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;empty&quot;: false,
    &quot;timestamp&quot;: 1690410052,
    &quot;count_artist&quot;: 195,
    &quot;count_album&quot;: 825,
    &quot;count_song&quot;: 8543,
    &quot;count_art&quot;: 824
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_collection_full"><a class="header" href="#state_collection_full">state_collection_full</a></h1>
<p>Retrieve full metadata about the current <a href="json-rpc/state-retrieval/../../common-objects/collection.html"><code>Collection</code></a>.</p>
<p>This method is much heavier superset of <a href="json-rpc/state-retrieval/state_collection.html"><code>state_collection</code></a>.</p>
<h4 id="inputs-5"><a class="header" href="#inputs-5">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-5"><a class="header" href="#outputs-5">Outputs</a></h4>
<p>The output of this method will be a full <a href="json-rpc/state-retrieval/../../common-objects/collection.html"><code>Collection</code></a> object.</p>
<h4 id="example-request-5"><a class="header" href="#example-request-5">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;state_collection_full&quot;}'
</code></pre>
<h4 id="example-response-5"><a class="header" href="#example-response-5">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;empty&quot;: false,
    &quot;timestamp&quot;: 1690665271,
    &quot;count_artist&quot;: 3,
    &quot;count_album&quot;: 4,
    &quot;count_song&quot;: 7,
    &quot;count_art&quot;: 4,
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;artist_1&quot;,
        &quot;key&quot;: 0,
        &quot;runtime&quot;: 4,
        &quot;albums&quot;: [
          0,
          1
        ],
        &quot;songs&quot;: [
          0,
          1,
          2,
          3
        ]
      },
      {
        &quot;name&quot;: &quot;artist_2&quot;,
        &quot;key&quot;: 1,
        &quot;runtime&quot;: 2,
        &quot;albums&quot;: [
          2
        ],
        &quot;songs&quot;: [
          4,
          5
        ]
      },
      {
        &quot;name&quot;: &quot;artist_3&quot;,
        &quot;key&quot;: 2,
        &quot;runtime&quot;: 1,
        &quot;albums&quot;: [
          3
        ],
        &quot;songs&quot;: [
          6
        ]
      }
    ],
    &quot;albums&quot;: [
      {
        &quot;title&quot;: &quot;album_1&quot;,
        &quot;key&quot;: 0,
        &quot;artist&quot;: 0,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 2,
        &quot;song_count&quot;: 2,
        &quot;songs&quot;: [
          0,
          1
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      },
      {
        &quot;title&quot;: &quot;album_2&quot;,
        &quot;key&quot;: 1,
        &quot;artist&quot;: 0,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 2,
        &quot;song_count&quot;: 2,
        &quot;songs&quot;: [
          2,
          3
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      },
      {
        &quot;title&quot;: &quot;album_3&quot;,
        &quot;key&quot;: 2,
        &quot;artist&quot;: 1,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 2,
        &quot;song_count&quot;: 2,
        &quot;songs&quot;: [
          4,
          5
        ],
        &quot;discs&quot;: 1,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      },
      {
        &quot;title&quot;: &quot;album_4&quot;,
        &quot;key&quot;: 3,
        &quot;artist&quot;: 2,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 1,
        &quot;song_count&quot;: 1,
        &quot;songs&quot;: [
          6
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      }
    ],
    &quot;songs&quot;: [
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 0,
        &quot;album&quot;: 0,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      },
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 1,
        &quot;album&quot;: 0,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 2,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      },
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 2,
        &quot;album&quot;: 1,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      },
      {
        &quot;title&quot;: &quot;flac&quot;,
        &quot;key&quot;: 3,
        &quot;album&quot;: 1,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 2,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/x-flac&quot;,
        &quot;extension&quot;: &quot;flac&quot;
      },
      {
        &quot;title&quot;: &quot;m4a&quot;,
        &quot;key&quot;: 4,
        &quot;album&quot;: 2,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: null,
        &quot;mime&quot;: &quot;audio/m4a&quot;,
        &quot;extension&quot;: &quot;m4a&quot;
      },
      {
        &quot;title&quot;: &quot;song_6&quot;,
        &quot;key&quot;: 5,
        &quot;album&quot;: 2,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 2,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/ogg&quot;,
        &quot;extension&quot;: &quot;ogg&quot;
      },
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 6,
        &quot;album&quot;: 3,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      }
    ],
    &quot;sort_artist_lexi&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_lexi_rev&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_artist_album_count&quot;: [
      1,
      2,
      0
    ],
    &quot;sort_artist_album_count_rev&quot;: [
      0,
      2,
      1
    ],
    &quot;sort_artist_song_count&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_artist_song_count_rev&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_runtime&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_artist_runtime_rev&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_name&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_name_rev&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_album_release_artist_lexi&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_release_artist_lexi_rev&quot;: [
      3,
      2,
      0,
      1
    ],
    &quot;sort_album_release_rev_artist_lexi&quot;: [
      1,
      0,
      2,
      3
    ],
    &quot;sort_album_release_rev_artist_lexi_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_lexi_artist_lexi&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_lexi_artist_lexi_rev&quot;: [
      3,
      2,
      0,
      1
    ],
    &quot;sort_album_lexi_rev_artist_lexi&quot;: [
      1,
      0,
      2,
      3
    ],
    &quot;sort_album_lexi_rev_artist_lexi_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_lexi&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_lexi_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_release&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_release_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_runtime&quot;: [
      3,
      0,
      1,
      2
    ],
    &quot;sort_album_runtime_rev&quot;: [
      2,
      1,
      0,
      3
    ],
    &quot;sort_album_title&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_title_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_song_album_release_artist_lexi&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_album_release_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      0,
      1,
      2,
      3
    ],
    &quot;sort_song_album_release_rev_artist_lexi&quot;: [
      2,
      3,
      0,
      1,
      4,
      5,
      6
    ],
    &quot;sort_song_album_release_rev_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      2,
      3,
      0,
      1
    ],
    &quot;sort_song_album_lexi_artist_lexi&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_album_lexi_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      0,
      1,
      2,
      3
    ],
    &quot;sort_song_album_lexi_rev_artist_lexi&quot;: [
      2,
      3,
      0,
      1,
      4,
      5,
      6
    ],
    &quot;sort_song_album_lexi_rev_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      2,
      3,
      0,
      1
    ],
    &quot;sort_song_lexi&quot;: [
      3,
      4,
      0,
      1,
      2,
      6,
      5
    ],
    &quot;sort_song_lexi_rev&quot;: [
      5,
      6,
      2,
      1,
      0,
      4,
      3
    ],
    &quot;sort_song_release&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_release_rev&quot;: [
      6,
      5,
      4,
      3,
      2,
      1,
      0
    ],
    &quot;sort_song_runtime&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_runtime_rev&quot;: [
      6,
      5,
      4,
      3,
      2,
      1,
      0
    ],
    &quot;sort_song_title&quot;: [
      0,
      1,
      2,
      4,
      6,
      3,
      5
    ],
    &quot;sort_song_title_rev&quot;: [
      5,
      3,
      6,
      4,
      2,
      1,
      0
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key-1"><a class="header" href="#key-1">Key</a></h1>
<p>Use <a href="json-rpc/key/../../common-objects/key.html"><code>key</code></a>'s to retrieve a <a href="json-rpc/key/../../common-objects/song.html"><code>Song</code></a>, <a href="json-rpc/key/../../common-objects/album.html"><code>Album</code></a>, or <a href="json-rpc/key/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<p>If the key is invalid, a JSON-RPC <a href="json-rpc/key/../../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<p>To use regular <code>string</code>'s as input instead, see <a href="json-rpc/key/../map/map.html"><code>Map</code></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key_artist"><a class="header" href="#key_artist">key_artist</a></h1>
<p>Input a <code>Artist</code> key, retrieve an <a href="json-rpc/key/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<h4 id="inputs-6"><a class="header" href="#inputs-6">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Artist</code> key (unsigned integer)</td><td>See <a href="json-rpc/key/key.html"><code>Key</code></a></td></tr>
</tbody></table>
</div>
<h4 id="outputs-6"><a class="header" href="#outputs-6">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/key/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-6"><a class="header" href="#example-request-6">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:123}}'
</code></pre>
<h4 id="example-response-6"><a class="header" href="#example-response-6">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key_album"><a class="header" href="#key_album">key_album</a></h1>
<p>Input a <code>Album</code> key, retrieve an <a href="json-rpc/key/../../common-objects/album.html"><code>Album</code></a>.</p>
<h4 id="inputs-7"><a class="header" href="#inputs-7">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Album</code> key (unsigned integer)</td><td>See <a href="json-rpc/key/key.html"><code>Key</code></a></td></tr>
</tbody></table>
</div>
<h4 id="outputs-7"><a class="header" href="#outputs-7">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/key/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-7"><a class="header" href="#example-request-7">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_album&quot;,&quot;params&quot;:{&quot;key&quot;:123}}'
</code></pre>
<h4 id="example-response-7"><a class="header" href="#example-response-7">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key_song"><a class="header" href="#key_song">key_song</a></h1>
<p>Input a <code>Song</code> key, retrieve a <a href="json-rpc/key/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-8"><a class="header" href="#inputs-8">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Song</code> key (unsigned integer)</td><td>See <a href="json-rpc/key/key.html"><code>Key</code></a></td></tr>
</tbody></table>
</div>
<h4 id="outputs-8"><a class="header" href="#outputs-8">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/key/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-8"><a class="header" href="#example-request-8">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_song&quot;,&quot;params&quot;:{&quot;key&quot;:123}}'
</code></pre>
<h4 id="example-response-8"><a class="header" href="#example-response-8">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map"><a class="header" href="#map">Map</a></h1>
<p>These methods are the same as the <a href="json-rpc/map/../key/key.html"><code>key_*</code></a> methods, but instead of <a href="json-rpc/map/../../common-objects/key.html"><code>key</code></a>'s, you can directly use:</p>
<ul>
<li><a href="json-rpc/map/../../common-objects/artist.html"><code>Artist</code></a> name</li>
<li><a href="json-rpc/map/../../common-objects/album.html"><code>Album</code></a> title</li>
<li><a href="json-rpc/map/../../common-objects/song.html"><code>Song</code></a> title</li>
</ul>
<p><code>strings</code> to lookup <a href="json-rpc/map/../../common-objects/common-objects.html"><code>Common Objects</code></a>.</p>
<p>So instead of:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:100}}'
</code></pre>
<p>you can use:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;ã‚«ãƒã‚³ã‚¢ãƒ¤ãƒŽ&quot;}}'
</code></pre>
<p>If the input is invalid, a JSON-RPC <a href="json-rpc/map/../../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<h2 id="warning"><a class="header" href="#warning">Warning</a></h2>
<p>Inputs are case-sensitive and must be exactly correct.</p>
<p>If you have an <code>Album</code> called <code>Hello World</code>, none of these inputs will work:</p>
<ul>
<li><code>Hello world</code></li>
<li><code>hello World</code></li>
<li><code>HELlo World</code></li>
<li><code>HelloWorld</code></li>
<li><code>H3ll0 W0rld</code></li>
</ul>
<p>The input must be <em>exactly</em> <code>Hello World</code>.</p>
<h2 id="collisions"><a class="header" href="#collisions">Collisions</a></h2>
<p>When using <code>map_album</code> you must specify:</p>
<ul>
<li><code>Artist</code> name</li>
<li><code>Album</code> title</li>
</ul>
<p>and when using <code>map_song</code> you must specify:</p>
<ul>
<li><code>Artist</code> name</li>
<li><code>Album</code> title</li>
<li><code>Song</code> title</li>
</ul>
<p>The reason these have to be specified is to prevent collisions.</p>
<p>If there's 2 songs in your <code>Collection</code> called: <code>Hello World</code>, which one should <code>festivald</code> return?</p>
<p>Since <code>Artist</code> names are unique, and <code>Album</code> titles within <code>Artist</code>'s are unique, they serve as an identifier.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_artist"><a class="header" href="#map_artist">map_artist</a></h1>
<p>Input a <code>Artist</code> name, retrieve an <a href="json-rpc/map/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<h4 id="inputs-9"><a class="header" href="#inputs-9">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td><code>Artist</code> name</td></tr>
</tbody></table>
</div>
<h4 id="outputs-9"><a class="header" href="#outputs-9">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/map/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-9"><a class="header" href="#example-request-9">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;Rex Orange County&quot;}}'
</code></pre>
<h4 id="example-response-9"><a class="header" href="#example-response-9">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_album"><a class="header" href="#map_album">map_album</a></h1>
<p>Input an <code>Artist</code> name and <code>Album</code> title, retrieve an <a href="json-rpc/map/../../common-objects/album.html"><code>Album</code></a>.</p>
<h4 id="inputs-10"><a class="header" href="#inputs-10">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td><code>Artist</code> name</td></tr>
<tr><td>album</td><td>string</td><td><code>Album</code> title</td></tr>
</tbody></table>
</div>
<h4 id="outputs-10"><a class="header" href="#outputs-10">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/map/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-10"><a class="header" href="#example-request-10">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_song&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;Rex Orange County&quot;,&quot;album&quot;:&quot;RAINBOW&quot;}}'
</code></pre>
<h4 id="example-response-10"><a class="header" href="#example-response-10">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_song"><a class="header" href="#map_song">map_song</a></h1>
<p>Input an <code>Artist</code> name, <code>Album</code> title, and <code>Song</code> title, retrieve a <a href="json-rpc/map/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-11"><a class="header" href="#inputs-11">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td><code>Artist</code> name</td></tr>
<tr><td>album</td><td>string</td><td><code>Album</code> title</td></tr>
<tr><td>song</td><td>string</td><td><code>Song</code> title</td></tr>
</tbody></table>
</div>
<h4 id="outputs-11"><a class="header" href="#outputs-11">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/map/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-11"><a class="header" href="#example-request-11">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_song&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;Rex Orange County&quot;,&quot;album&quot;:&quot;RAINBOW&quot;,&quot;song&quot;:&quot;SUNFLOWER&quot;}}'
</code></pre>
<h4 id="example-response-11"><a class="header" href="#example-response-11">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current"><a class="header" href="#current">Current</a></h1>
<p>Access the <em>currently</em> set <a href="json-rpc/current/../../common-objects/song.html"><code>Song</code></a>, its <a href="json-rpc/current/../../common-objects/album.html"><code>Album</code></a>, or its <a href="json-rpc/current/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<p>If no <code>Song</code> is set, a JSON-RPC <a href="json-rpc/current/../../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current_artist"><a class="header" href="#current_artist">current_artist</a></h1>
<p>Access the <a href="json-rpc/current/../../common-objects/artist.html"><code>Artist</code></a> of the currently set <code>Song</code>.</p>
<h4 id="inputs-12"><a class="header" href="#inputs-12">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-12"><a class="header" href="#outputs-12">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/current/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-12"><a class="header" href="#example-request-12">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_artist&quot;}'
</code></pre>
<h4 id="example-response-12"><a class="header" href="#example-response-12">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current_album"><a class="header" href="#current_album">current_album</a></h1>
<p>Access the <a href="json-rpc/current/../../common-objects/album.html"><code>Album</code></a> of the currently set <code>Song</code>.</p>
<h4 id="inputs-13"><a class="header" href="#inputs-13">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-13"><a class="header" href="#outputs-13">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/current/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-13"><a class="header" href="#example-request-13">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_album&quot;}'
</code></pre>
<h4 id="example-response-13"><a class="header" href="#example-response-13">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current_song"><a class="header" href="#current_song">current_song</a></h1>
<p>Access the currently set <a href="json-rpc/current/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-14"><a class="header" href="#inputs-14">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-14"><a class="header" href="#outputs-14">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/current/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-14"><a class="header" href="#example-request-14">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_song&quot;}'
</code></pre>
<h4 id="example-response-14"><a class="header" href="#example-response-14">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand"><a class="header" href="#rand">Rand</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/song.html"><code>Song</code></a>, <a href="json-rpc/rand/../../common-objects/album.html"><code>Album</code></a>, or <a href="json-rpc/rand/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<p>If the <a href="json-rpc/rand/../../common-objects/collection.html"><code>Collection</code></a> is empty, a JSON-RPC <a href="json-rpc/rand/../../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand_artist"><a class="header" href="#rand_artist">rand_artist</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<h4 id="inputs-15"><a class="header" href="#inputs-15">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-15"><a class="header" href="#outputs-15">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/rand/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-15"><a class="header" href="#example-request-15">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;rand_artist&quot;}'
</code></pre>
<h4 id="example-response-15"><a class="header" href="#example-response-15">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand_album"><a class="header" href="#rand_album">rand_album</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/album.html"><code>Album</code></a>.</p>
<h4 id="inputs-16"><a class="header" href="#inputs-16">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-16"><a class="header" href="#outputs-16">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/rand/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-16"><a class="header" href="#example-request-16">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;rand_album&quot;}'
</code></pre>
<h4 id="example-response-16"><a class="header" href="#example-response-16">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current_song-1"><a class="header" href="#current_song-1">current_song</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-17"><a class="header" href="#inputs-17">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-17"><a class="header" href="#outputs-17">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/rand/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-17"><a class="header" href="#example-request-17">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_song&quot;}'
</code></pre>
<h4 id="example-response-17"><a class="header" href="#example-response-17">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search"><a class="header" href="#search">Search</a></h1>
<p>Fuzzy similarity searches for <a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a>'s, <a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>'s, and <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>'s.</p>
<p>In general: input a <code>string</code>, receive some <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>/<a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>/<a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a> objects that are similar to the input.</p>
<p>If you know the <em>exact</em> <code>string</code> for a <code>Song</code>, <code>Album</code>, or <code>Artist</code>, consider using the <a href="json-rpc/search/../map/map.html"><code>Map</code></a> methods instead.</p>
<h2 id="warning-1"><a class="header" href="#warning-1">Warning</a></h2>
<p>The output array may return empty given no matches or an empty <code>Collection</code>:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;songs&quot;: []
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search-1"><a class="header" href="#search-1">search</a></h1>
<p>Input a <code>string</code>, retrieve arrays of <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>'s, <a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>'s, and <a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a>'s, sorted by how similar their names/titles are to the input.</p>
<h4 id="inputs-18"><a class="header" href="#inputs-18">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL objects in the <code>Collection</code> will be returned. <code>sim70</code> means only objects that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned (per object group, so total 75). <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-18"><a class="header" href="#outputs-18">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artists</td><td>array of <code>Artist</code> objects</td><td>An array of <code>Artist</code> objects, sorted by most similar name first</td></tr>
<tr><td>albums</td><td>array of <code>Album</code> objects</td><td>An array of <code>Album</code> objects, sorted by most similar title first</td></tr>
<tr><td>songs</td><td>array of <code>Song</code> objects</td><td>An array of <code>Song</code> objects, sorted by most similar title first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-18"><a class="header" href="#example-request-18">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;twice&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-18"><a class="header" href="#example-response-18">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;TWICE&quot;,
        &quot;key&quot;: 106,
        &quot;runtime&quot;: 343,
        &quot;albums&quot;: [
          598
        ],
        &quot;songs&quot;: [
          5411
        ]
      },
    ],
    &quot;albums&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 271,
        &quot;artist&quot;: 42,
        &quot;release&quot;: &quot;2014-01-21&quot;,
        &quot;runtime&quot;: 2904,
        &quot;song_count&quot;: 3,
        &quot;songs&quot;: [
          3058,
          3095,
          3121
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 1264656,
        &quot;genre&quot;: null
      }
    ],
    &quot;songs&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 5560,
        &quot;album&quot;: 538,
        &quot;runtime&quot;: 249,
        &quot;sample_rate&quot;: 44100,
        &quot;track&quot;: 5,
        &quot;disc&quot;: 1
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search_artist"><a class="header" href="#search_artist">search_artist</a></h1>
<p>Input a <code>string</code>, retrieve an array of <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>'s, sorted by how similar their names are to the input.</p>
<h4 id="inputs-19"><a class="header" href="#inputs-19">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL <code>Artist</code>'s will be returned. <code>sim70</code> means only <code>Artist</code>'s that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned. <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-19"><a class="header" href="#outputs-19">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artists</td><td>array of <code>Artist</code> objects</td><td>An array of <code>Artist</code> objects, sorted by most similar name first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-19"><a class="header" href="#example-request-19">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_artist&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;twice&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-19"><a class="header" href="#example-response-19">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;TWICE&quot;,
        &quot;key&quot;: 106,
        &quot;runtime&quot;: 343,
        &quot;albums&quot;: [
          598
        ],
        &quot;songs&quot;: [
          5411
        ]
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search_album"><a class="header" href="#search_album">search_album</a></h1>
<p>Input a <code>string</code>, retrieve an array of <a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>'s, sorted by how similar their titles are to the input.</p>
<h4 id="inputs-20"><a class="header" href="#inputs-20">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL <code>Album</code>'s will be returned. <code>sim70</code> means only <code>Album</code>'s that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned. <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-20"><a class="header" href="#outputs-20">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>albums</td><td>array of <code>Album</code> objects</td><td>An array of <code>Album</code> objects, sorted by most similar title first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-20"><a class="header" href="#example-request-20">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_album&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;time&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-20"><a class="header" href="#example-response-20">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;albums&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 271,
        &quot;artist&quot;: 42,
        &quot;release&quot;: &quot;2014-01-21&quot;,
        &quot;runtime&quot;: 2904,
        &quot;song_count&quot;: 3,
        &quot;songs&quot;: [
          3058,
          3095,
          3121
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 1264656,
        &quot;genre&quot;: null
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search_song"><a class="header" href="#search_song">search_song</a></h1>
<p>Input a <code>string</code>, retrieve an array of <a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a>'s, sorted by how similar their titles are to the input.</p>
<h4 id="inputs-21"><a class="header" href="#inputs-21">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL <code>Song</code>'s will be returned. <code>sim70</code> means only <code>Song</code>'s that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned. <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-21"><a class="header" href="#outputs-21">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>songs</td><td>array of <code>Song</code> objects</td><td>An array of <code>Song</code> objects, sorted by most similar title first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-21"><a class="header" href="#example-request-21">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_song&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;time&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-21"><a class="header" href="#example-response-21">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;songs&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 5560,
        &quot;album&quot;: 538,
        &quot;runtime&quot;: 249,
        &quot;sample_rate&quot;: 44100,
        &quot;track&quot;: 5,
        &quot;disc&quot;: 1
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="playback-control"><a class="header" href="#playback-control">Playback Control</a></h1>
<p>Methods for controlling <code>festivald</code> audio playback, adding/removing from the queue, shuffling, seeking, etc.</p>
<p>Most the responses of the methods will be empty <code>result</code>'s, indicating success, or an <code>error</code>.</p>
<p>See <a href="json-rpc/playback-control/../../common-objects/common-objects.html#generic-response"><code>Common Objects # Generic Response</code></a> for more info.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="toggle"><a class="header" href="#toggle">toggle</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="play"><a class="header" href="#play">play</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pause"><a class="header" href="#pause">pause</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="next"><a class="header" href="#next">next</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stop"><a class="header" href="#stop">stop</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shuffle"><a class="header" href="#shuffle">shuffle</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repeat_off"><a class="header" href="#repeat_off">repeat_off</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repeat_song"><a class="header" href="#repeat_song">repeat_song</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repeat_queue"><a class="header" href="#repeat_queue">repeat_queue</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="previous"><a class="header" href="#previous">previous</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="volume"><a class="header" href="#volume">volume</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clear"><a class="header" href="#clear">clear</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="seek"><a class="header" href="#seek">seek</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="skip"><a class="header" href="#skip">skip</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="back"><a class="header" href="#back">back</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_key_artist"><a class="header" href="#add_queue_key_artist">add_queue_key_artist</a></h1>
<p>Add an <a href="json-rpc/playback-control/../../common-objects/artist.html"><code>Artist</code></a> to the queue with an <code>Artist</code> <a href="json-rpc/playback-control/../../common-objects/key.html">key</a>.</p>
<h4 id="inputs-22"><a class="header" href="#inputs-22">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Artist</code> key (unsigned integer)</td><td>See <a href="json-rpc/playback-control/key.html"><code>Key</code></a></td></tr>
<tr><td>append</td><td><code>string</code>, one of <code>front</code>, <code>back</code> or <code>index</code></td><td>In which way should we add to the queue? <code>front</code> means to the front of the queue. <code>back</code> means to the back. <code>index</code> means at an exact queue index. Queue index starts at <code>0</code>, so to mimic <code>front</code>, you would provide <code>0</code>.</td></tr>
<tr><td>clear</td><td>boolean</td><td>Should the queue be cleared before adding?</td></tr>
<tr><td>offset</td><td>unsigned integer</td><td>If this method is responsible for setting the current <code>Song</code>, should we start at an offset within the <code>Artist</code>? e.g, starting at the first <code>Song</code> would be offset <code>0</code>, starting at the 3rd <code>Song</code> would be offset <code>2</code>, etc.</td></tr>
</tbody></table>
</div>
<h4 id="append"><a class="header" href="#append"><code>append</code></a></h4>
<p>If using <code>&quot;append&quot;: index</code>, you must also specific the index like so:</p>
<pre><code class="language-json">&quot;append&quot;:{&quot;index&quot;:0},
</code></pre>
<p>compared to <code>front</code> and <code>back</code>:</p>
<pre><code class="language-json">&quot;append&quot;:&quot;front&quot;,
</code></pre>
<pre><code class="language-json">&quot;append&quot;:&quot;back&quot;,
</code></pre>
<h4 id="offset"><a class="header" href="#offset"><code>offset</code></a></h4>
<p>If this method also happens to set the current <code>Song</code> (added to empty queue, added to front, etc), this field lets you <em>start</em> at a particular <code>Song</code> offset.</p>
<p>The <code>Song</code>'s before the offset will still be added, but the <em>current</em> <code>Song</code> set will be the one at the offset.</p>
<p>If the offset is out of bounds, it will start at the first <code>Song</code>.</p>
<p>The exact ordering of the <a href="json-rpc/playback-control/../../common-objects/artist.html"><code>Artist</code></a>'s songs and what the offsets are relative to is the same as the <a href="json-rpc/playback-control/../../common-objects/artist.html">object's</a> internal ordering: <a href="json-rpc/playback-control/../../common-objects/album.html"><code>Album</code></a> in release order, then <a href="json-rpc/playback-control/../../common-objects/song.html"><code>Song</code></a> track order.</p>
<p>For example, given <code>&quot;offset&quot;: 3</code>:</p>
<pre><code class="language-plaintext"># Artist's songs.
index 0 | song_1 &lt;---/ These are still added to the queue, but..
index 1 | song_2 &lt;--/
index 2 | song_3 &lt;-/
index 3 | song_4 &lt;--- We will start playing from this `Song`.
index 4 | song_5
index 5 | song_6
</code></pre>
<h4 id="outputs-22"><a class="header" href="#outputs-22">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>out_of_bounds</td><td>boolean</td><td>If the provided <code>offset</code> was equal to or greater than the amount of <code>Songs</code> by the <code>Artist</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request-1"><a class="header" href="#example-request-1">Example Request 1</a></h4>
<pre><code class="language-bash"># Add to back of the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;back&quot;,&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-2"><a class="header" href="#example-request-2">Example Request 2</a></h4>
<pre><code class="language-bash"># Append at queue index 4.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:{&quot;index&quot;:4},&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-3"><a class="header" href="#example-request-3">Example Request 3</a></h4>
<pre><code class="language-bash"># Clear the queue, add all the `Song`'s by this `Artist`, but start at the 5th `Song` (offset 4).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;front&quot;,&quot;clear&quot;:true,&quot;offset&quot;:4}}'
</code></pre>
<h4 id="example-response-22"><a class="header" href="#example-response-22">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;out_of_bounds&quot;: false
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_key_album"><a class="header" href="#add_queue_key_album">add_queue_key_album</a></h1>
<p>Add an <a href="json-rpc/playback-control/../../common-objects/album.html"><code>Album</code></a> to the queue with an <code>Album</code> <a href="json-rpc/playback-control/../../common-objects/key.html">key</a>.</p>
<h4 id="inputs-23"><a class="header" href="#inputs-23">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Album</code> key (unsigned integer)</td><td>See <a href="json-rpc/playback-control/key.html"><code>Key</code></a></td></tr>
<tr><td>append</td><td><code>string</code>, one of <code>front</code>, <code>back</code> or <code>index</code></td><td>In which way should we add to the queue? <code>front</code> means to the front of the queue. <code>back</code> means to the back. <code>index</code> means at an exact queue index. Queue index starts at <code>0</code>, so to mimic <code>front</code>, you would provide <code>0</code>.</td></tr>
<tr><td>clear</td><td>boolean</td><td>Should the queue be cleared before adding?</td></tr>
<tr><td>offset</td><td>unsigned integer</td><td>If this method is responsible for setting the current <code>Song</code>, should we start at an offset within the <code>Album</code>? e.g, starting at the first <code>Song</code> would be offset <code>0</code>, starting at the 3rd <code>Song</code> would be offset <code>2</code>, etc.</td></tr>
</tbody></table>
</div>
<h4 id="append-1"><a class="header" href="#append-1"><code>append</code></a></h4>
<p>If using <code>&quot;append&quot;: index</code>, you must also specific the index like so:</p>
<pre><code class="language-json">&quot;append&quot;:{&quot;index&quot;:0},
</code></pre>
<p>compared to <code>front</code> and <code>back</code>:</p>
<pre><code class="language-json">&quot;append&quot;:&quot;front&quot;,
</code></pre>
<pre><code class="language-json">&quot;append&quot;:&quot;back&quot;,
</code></pre>
<h4 id="offset-1"><a class="header" href="#offset-1"><code>offset</code></a></h4>
<p>If this method also happens to set the current <code>Song</code> (added to empty queue, added to front, etc), this field lets you <em>start</em> at a particular <code>Song</code> offset.</p>
<p>The <code>Song</code>'s before the offset will still be added, but the <em>current</em> <code>Song</code> set will be the one at the offset.</p>
<p>If the offset is out of bounds, it will start at the first <code>Song</code>.</p>
<p>The exact ordering of the <a href="json-rpc/playback-control/../../common-objects/album.html"><code>Album</code></a>'s songs and what the offsets are relative to is the same as the internal ordering: <a href="json-rpc/playback-control/../../common-objects/song.html"><code>Song</code></a> track order.</p>
<p>For example, given <code>&quot;offset&quot;: 3</code>:</p>
<pre><code class="language-plaintext"># Album's songs.
index 0 | song_1 &lt;---/ These are still added to the queue, but..
index 1 | song_2 &lt;--/
index 2 | song_3 &lt;-/
index 3 | song_4 &lt;--- We will start playing from this `Song`.
index 4 | song_5
index 5 | song_6
</code></pre>
<h4 id="outputs-23"><a class="header" href="#outputs-23">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>out_of_bounds</td><td>boolean</td><td>If the provided <code>offset</code> was equal to or greater than the amount of <code>Song</code>'s in the <code>Album</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request-1-1"><a class="header" href="#example-request-1-1">Example Request 1</a></h4>
<pre><code class="language-bash"># Add to back of the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_album&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;back&quot;,&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-2-1"><a class="header" href="#example-request-2-1">Example Request 2</a></h4>
<pre><code class="language-bash"># Append at queue index 4.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_album&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:{&quot;index&quot;:4},&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-3-1"><a class="header" href="#example-request-3-1">Example Request 3</a></h4>
<pre><code class="language-bash"># Clear the queue, add all the `Song`'s in this `Album`, but start at the 5th `Song` (offset 4).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_album&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;front&quot;,&quot;clear&quot;:true,&quot;offset&quot;:4}}'
</code></pre>
<h4 id="example-response-23"><a class="header" href="#example-response-23">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;out_of_bounds&quot;: false
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_key_song"><a class="header" href="#add_queue_key_song">add_queue_key_song</a></h1>
<p>Add a <a href="json-rpc/playback-control/../../common-objects/song.html"><code>Song</code></a> to the queue with a <code>Song</code> <a href="json-rpc/playback-control/../../common-objects/key.html">key</a>.</p>
<h4 id="inputs-24"><a class="header" href="#inputs-24">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Song</code> key (unsigned integer  )</td><td>See <a href="json-rpc/playback-control/key.html"><code>Key</code></a></td></tr>
<tr><td>append</td><td><code>string</code>, one of <code>front</code>, <code>back</code> or <code>index</code></td><td>In which way should we add to the queue? <code>front</code> means to the front of the queue. <code>back</code> means to the back. <code>index</code> means at an exact queue index. Queue index starts at <code>0</code>, so to mimic <code>front</code>, you would provide <code>0</code>.</td></tr>
<tr><td>clear</td><td>boolean</td><td>Should the queue be cleared before adding?</td></tr>
</tbody></table>
</div>
<h4 id="append-2"><a class="header" href="#append-2"><code>append</code></a></h4>
<p>If using <code>&quot;append&quot;: index</code>, you must also specific the index like so:</p>
<pre><code class="language-json">&quot;append&quot;:{&quot;index&quot;:0},
</code></pre>
<p>compared to <code>front</code> and <code>back</code>:</p>
<pre><code class="language-json">&quot;append&quot;:&quot;front&quot;,
</code></pre>
<pre><code class="language-json">&quot;append&quot;:&quot;back&quot;,
</code></pre>
<h4 id="outputs-24"><a class="header" href="#outputs-24">Outputs</a></h4>
<p><code>null</code> if everything went okay.</p>
<h4 id="example-request-1-2"><a class="header" href="#example-request-1-2">Example Request 1</a></h4>
<pre><code class="language-bash"># Add to back of the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_song&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;back&quot;,&quot;clear&quot;:false}'
</code></pre>
<h4 id="example-request-2-2"><a class="header" href="#example-request-2-2">Example Request 2</a></h4>
<pre><code class="language-bash"># Append at queue index 4.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_song&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:{&quot;index&quot;:4},&quot;clear&quot;:false}'
</code></pre>
<h4 id="example-request-3-2"><a class="header" href="#example-request-3-2">Example Request 3</a></h4>
<pre><code class="language-bash"># Clear the queue, add `Song` 123.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_song&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;front&quot;,&quot;clear&quot;:true}'
</code></pre>
<h4 id="example-response-24"><a class="header" href="#example-response-24">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: null, // &lt;--- everything went ok.
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_map_artist"><a class="header" href="#add_queue_map_artist">add_queue_map_artist</a></h1>
<p>Add an <a href="json-rpc/playback-control/../../common-objects/artist.html"><code>Artist</code></a> to the queue with an <code>Artist</code> name.</p>
<h4 id="inputs-25"><a class="header" href="#inputs-25">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>string</code></td><td><code>Artist</code> name</td></tr>
<tr><td>append</td><td><code>string</code>, one of <code>front</code>, <code>back</code> or <code>index</code></td><td>In which way should we add to the queue? <code>front</code> means to the front of the queue. <code>back</code> means to the back. <code>index</code> means at an exact queue index. Queue index starts at <code>0</code>, so to mimic <code>front</code>, you would provide <code>0</code>.</td></tr>
<tr><td>clear</td><td>boolean</td><td>Should the queue be cleared before adding?</td></tr>
<tr><td>offset</td><td>unsigned integer</td><td>If this method is responsible for setting the current <code>Song</code>, should we start at an offset within the <code>Artist</code>? e.g, starting at the first <code>Song</code> would be offset <code>0</code>, starting at the 3rd <code>Song</code> would be offset <code>2</code>, etc.</td></tr>
</tbody></table>
</div>
<h4 id="append-3"><a class="header" href="#append-3"><code>append</code></a></h4>
<p>If using <code>&quot;append&quot;: index</code>, you must also specific the index like so:</p>
<pre><code class="language-json">&quot;append&quot;:{&quot;index&quot;:0},
</code></pre>
<p>compared to <code>front</code> and <code>back</code>:</p>
<pre><code class="language-json">&quot;append&quot;:&quot;front&quot;,
</code></pre>
<pre><code class="language-json">&quot;append&quot;:&quot;back&quot;,
</code></pre>
<h4 id="offset-2"><a class="header" href="#offset-2"><code>offset</code></a></h4>
<p>If this method also happens to set the current <code>Song</code> (added to empty queue, added to front, etc), this field lets you <em>start</em> at a particular <code>Song</code> offset.</p>
<p>The <code>Song</code>'s before the offset will still be added, but the <em>current</em> <code>Song</code> set will be the one at the offset.</p>
<p>If the offset is out of bounds, it will start at the first <code>Song</code>.</p>
<p>The exact ordering of the <a href="json-rpc/playback-control/../../common-objects/artist.html"><code>Artist</code></a>'s songs and what the offsets are relative to is the same as the <a href="json-rpc/playback-control/../../common-objects/artist.html">object's</a> internal ordering: <a href="json-rpc/playback-control/../../common-objects/album.html"><code>Album</code></a> in release order, then <a href="json-rpc/playback-control/../../common-objects/song.html"><code>Song</code></a> track order.</p>
<p>For example, given <code>&quot;offset&quot;: 3</code>:</p>
<pre><code class="language-plaintext"># Artist's songs.
index 0 | song_1 &lt;---/ These are still added to the queue, but..
index 1 | song_2 &lt;--/
index 2 | song_3 &lt;-/
index 3 | song_4 &lt;--- We will start playing from this `Song`.
index 4 | song_5
index 5 | song_6
</code></pre>
<h4 id="outputs-25"><a class="header" href="#outputs-25">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>out_of_bounds</td><td>boolean</td><td>If the provided <code>offset</code> was equal to or greater than the amount of <code>Songs</code> by the <code>Artist</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request-1-3"><a class="header" href="#example-request-1-3">Example Request 1</a></h4>
<pre><code class="language-bash"># Add to back of the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;TWICE&quot;,&quot;append&quot;:&quot;back&quot;,&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-2-3"><a class="header" href="#example-request-2-3">Example Request 2</a></h4>
<pre><code class="language-bash"># Append at queue index 4.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;TWICE&quot;,&quot;append&quot;:{&quot;index&quot;:4},&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-3-3"><a class="header" href="#example-request-3-3">Example Request 3</a></h4>
<pre><code class="language-bash"># Clear the queue, add all the `Song`'s by this `Artist`, but start at the 5th `Song` (offset 4).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;TWICE&quot;,&quot;append&quot;:&quot;front&quot;,&quot;clear&quot;:true,&quot;offset&quot;:4}}'
</code></pre>
<h4 id="example-response-25"><a class="header" href="#example-response-25">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;out_of_bounds&quot;: false
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_map_album"><a class="header" href="#add_queue_map_album">add_queue_map_album</a></h1>
<p>Add an <a href="json-rpc/playback-control/../../common-objects/album.html"><code>Album</code></a> to the queue with an <a href="json-rpc/playback-control/../../common-objects/artist.html"><code>Artist</code></a> name and <code>Album</code> title.</p>
<h4 id="inputs-26"><a class="header" href="#inputs-26">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>string</code></td><td><code>Artist</code> name</td></tr>
<tr><td>album</td><td><code>string</code></td><td><code>Album</code> title</td></tr>
<tr><td>append</td><td><code>string</code>, one of <code>front</code>, <code>back</code> or <code>index</code></td><td>In which way should we add to the queue? <code>front</code> means to the front of the queue. <code>back</code> means to the back. <code>index</code> means at an exact queue index. Queue index starts at <code>0</code>, so to mimic <code>front</code>, you would provide <code>0</code>.</td></tr>
<tr><td>clear</td><td>boolean</td><td>Should the queue be cleared before adding?</td></tr>
<tr><td>offset</td><td>unsigned integer</td><td>If this method is responsible for setting the current <code>Song</code>, should we start at an offset within the <code>Album</code>? e.g, starting at the first <code>Song</code> would be offset <code>0</code>, starting at the 3rd <code>Song</code> would be offset <code>2</code>, etc.</td></tr>
</tbody></table>
</div>
<h4 id="append-4"><a class="header" href="#append-4"><code>append</code></a></h4>
<p>If using <code>&quot;append&quot;: index</code>, you must also specific the index like so:</p>
<pre><code class="language-json">&quot;append&quot;:{&quot;index&quot;:0},
</code></pre>
<p>compared to <code>front</code> and <code>back</code>:</p>
<pre><code class="language-json">&quot;append&quot;:&quot;front&quot;,
</code></pre>
<pre><code class="language-json">&quot;append&quot;:&quot;back&quot;,
</code></pre>
<h4 id="offset-3"><a class="header" href="#offset-3"><code>offset</code></a></h4>
<p>If this method also happens to set the current <code>Song</code> (added to empty queue, added to front, etc), this field lets you <em>start</em> at a particular <code>Song</code> offset.</p>
<p>The <code>Song</code>'s before the offset will still be added, but the <em>current</em> <code>Song</code> set will be the one at the offset.</p>
<p>If the offset is out of bounds, it will start at the first <code>Song</code>.</p>
<p>The exact ordering of the <a href="json-rpc/playback-control/../../common-objects/album.html"><code>Album</code></a>'s songs and what the offsets are relative to is the same as the internal ordering: <a href="json-rpc/playback-control/../../common-objects/song.html"><code>Song</code></a> track order.</p>
<p>For example, given <code>&quot;offset&quot;: 3</code>:</p>
<pre><code class="language-plaintext"># Album's songs.
index 0 | song_1 &lt;---/ These are still added to the queue, but..
index 1 | song_2 &lt;--/
index 2 | song_3 &lt;-/
index 3 | song_4 &lt;--- We will start playing from this `Song`.
index 4 | song_5
index 5 | song_6
</code></pre>
<h4 id="outputs-26"><a class="header" href="#outputs-26">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>out_of_bounds</td><td>boolean</td><td>If the provided <code>offset</code> was equal to or greater than the amount of <code>Song</code>'s in the <code>Album</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request-1-4"><a class="header" href="#example-request-1-4">Example Request 1</a></h4>
<pre><code class="language-bash"># Add to back of the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_album&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;TWICE&quot;,&quot;album&quot;:&quot;PAGE TWO&quot;,&quot;append&quot;:&quot;back&quot;,&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-2-4"><a class="header" href="#example-request-2-4">Example Request 2</a></h4>
<pre><code class="language-bash"># Append at queue index 4.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_album&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;TWICE&quot;,&quot;album&quot;:&quot;PAGE TWO&quot;,&quot;append&quot;:{&quot;index&quot;:4},&quot;clear&quot;:false,&quot;offset&quot;:0}}'
</code></pre>
<h4 id="example-request-3-4"><a class="header" href="#example-request-3-4">Example Request 3</a></h4>
<pre><code class="language-bash"># Clear the queue, add all the `Song`'s in this `Album`, but start at the 5th `Song` (offset 4).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_album&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;TWICE&quot;,&quot;album&quot;:&quot;PAGE TWO&quot;,&quot;append&quot;:&quot;front&quot;,&quot;clear&quot;:true,&quot;offset&quot;:4}}'
</code></pre>
<h4 id="example-response-26"><a class="header" href="#example-response-26">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;out_of_bounds&quot;: false
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_map_song"><a class="header" href="#add_queue_map_song">add_queue_map_song</a></h1>
<p>Add a <a href="json-rpc/playback-control/../../common-objects/song.html"><code>Song</code></a> to the queue with an <a href="json-rpc/playback-control/../../common-objects/artist.html"><code>Artist</code></a> name <a href="json-rpc/playback-control/../../common-objects/album.html"><code>Album</code></a> title, and <code>Song</code> title.</p>
<h4 id="inputs-27"><a class="header" href="#inputs-27">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>string</code></td><td><code>Artist</code> name</td></tr>
<tr><td>album</td><td><code>string</code></td><td><code>Album</code> title</td></tr>
<tr><td>song</td><td><code>string</code></td><td><code>Song</code> title</td></tr>
<tr><td>append</td><td><code>string</code>, one of <code>front</code>, <code>back</code> or <code>index</code></td><td>In which way should we add to the queue? <code>front</code> means to the front of the queue. <code>back</code> means to the back. <code>index</code> means at an exact queue index. Queue index starts at <code>0</code>, so to mimic <code>front</code>, you would provide <code>0</code>.</td></tr>
<tr><td>clear</td><td>boolean</td><td>Should the queue be cleared before adding?</td></tr>
</tbody></table>
</div>
<h4 id="append-5"><a class="header" href="#append-5"><code>append</code></a></h4>
<p>If using <code>&quot;append&quot;: index</code>, you must also specific the index like so:</p>
<pre><code class="language-json">&quot;append&quot;:{&quot;index&quot;:0},
</code></pre>
<p>compared to <code>front</code> and <code>back</code>:</p>
<pre><code class="language-json">&quot;append&quot;:&quot;front&quot;,
</code></pre>
<pre><code class="language-json">&quot;append&quot;:&quot;back&quot;,
</code></pre>
<h4 id="outputs-27"><a class="header" href="#outputs-27">Outputs</a></h4>
<p><code>null</code> if everything went okay.</p>
<h4 id="example-request-1-5"><a class="header" href="#example-request-1-5">Example Request 1</a></h4>
<pre><code class="language-bash"># Add to back of the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_song&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;back&quot;,&quot;clear&quot;:false}'
</code></pre>
<h4 id="example-request-2-5"><a class="header" href="#example-request-2-5">Example Request 2</a></h4>
<pre><code class="language-bash"># Append at index 4, start from `Song` 3 (offset 2).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_song&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:{&quot;index&quot;:4},&quot;clear&quot;:false}'
</code></pre>
<h4 id="example-request-3-5"><a class="header" href="#example-request-3-5">Example Request 3</a></h4>
<pre><code class="language-bash"># Clear the queue, add starting from `Song` 5 (offset 4).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_key_song&quot;,&quot;params&quot;:{&quot;key&quot;:&quot;123&quot;,&quot;append&quot;:&quot;front&quot;,&quot;clear&quot;:true}'
</code></pre>
<h4 id="example-response-27"><a class="header" href="#example-response-27">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: null, // &lt;--- everything went ok.
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="set_queue_index"><a class="header" href="#set_queue_index">set_queue_index</a></h1>
<p>Set the current <code>Song</code> to a queue index.</p>
<h4 id="inputs-28"><a class="header" href="#inputs-28">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td>unsigned integer</td><td>An index in the queue (1st <code>Song</code> is index <code>0</code>, 2nd <code>Song</code> is index <code>1</code>, etc). The current state of the &quot;queue&quot; can be viewed with <a href="json-rpc/playback-control/../state-retrieval/state_audio.html"><code>state_audio</code></a>.</td></tr>
</tbody></table>
</div>
<p>If the <code>index</code> is out-of-bounds (queue has 10 songs, index is <code>10</code> or greater), the queue will end.</p>
<h4 id="outputs-28"><a class="header" href="#outputs-28">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>out_of_bounds</td><td>boolean</td><td>If the provided index was equal to or greater than the queue length.</td></tr>
</tbody></table>
</div>
<h4 id="example-request-22"><a class="header" href="#example-request-22">Example Request</a></h4>
<pre><code class="language-bash"># Set the current `Song` to index `4`.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;set_queue_index&quot;,&quot;params&quot;:{&quot;index&quot;:4}'
</code></pre>
<h4 id="example-response-28"><a class="header" href="#example-response-28">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;out_of_bounds&quot;: false
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="remove_queue_range"><a class="header" href="#remove_queue_range">remove_queue_range</a></h1>
<p>Remove a range of queue indices.</p>
<h4 id="inputs-29"><a class="header" href="#inputs-29">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>start</td><td>unsigned integer</td><td>The beginning index to start removing from</td></tr>
<tr><td>end</td><td>unsigned integer</td><td>The index to remove <em>until</em></td></tr>
<tr><td>skip</td><td>boolean</td><td>Should we skip to the next song if the range includes the current one? <code>false</code> will leave playback as is, even if the current song is wiped from the queue.</td></tr>
</tbody></table>
</div>
<p>If either <code>start</code> or <code>end</code> is out-of-bounds, this method will do nothing.</p>
<h4 id="start-and-end"><a class="header" href="#start-and-end"><code>start</code> and <code>end</code></a></h4>
<p>This method will start removing from the <code>start</code> index up UNTIL the <code>end</code> index.</p>
<p>It is a NON-inclusive range, i.e: it is <code>0..4</code>, not <code>0..=4</code>.</p>
<p>For example, given <code>&quot;start&quot;: 0</code> and <code>&quot;end&quot;: 4</code>:</p>
<pre><code class="language-plaintext"># The queue.
index 0 | song_1 &lt;--- We start removing from here.
index 1 | song_2    |
index 2 | song_3    |
index 3 | song_4 &lt;--- To here.
index 4 | song_5 &lt;--- This song is not removed.
index 5 | song_6
</code></pre>
<h4 id="outputs-29"><a class="header" href="#outputs-29">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>out_of_bounds</td><td>boolean</td><td>If either <code>start</code> or <code>end</code> was out-of-bounds</td></tr>
</tbody></table>
</div>
<h4 id="example-request-1-6"><a class="header" href="#example-request-1-6">Example Request 1</a></h4>
<pre><code class="language-bash"># Remove the 1st `Song` in the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;remove_queue_range&quot;,&quot;params&quot;:{&quot;start&quot;:0,&quot;end&quot;:1,&quot;skip&quot;:true}}'
</code></pre>
<h4 id="example-request-2-6"><a class="header" href="#example-request-2-6">Example Request 2</a></h4>
<pre><code class="language-bash"># Remove 0, 1, 2, 3 from the queue.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;remove_queue_range&quot;,&quot;params&quot;:{&quot;start&quot;:0,&quot;end&quot;:4,&quot;skip&quot;:true}}'
</code></pre>
<h4 id="example-response-29"><a class="header" href="#example-response-29">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;out_of_bounds&quot;: false
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rest-1"><a class="header" href="#rest-1">REST</a></h1>
<p><code>festivald</code> (by default) exposes REST endpoints for <code>Collection</code>-related resources that can be accessed via GET HTTP requests.</p>
<p>A simple way to access these files is via a browser, e.g, opening this link:</p>
<pre><code class="language-http">http://localhost:18425/art/Artist Name/Album Title
</code></pre>
<p>This will make the art of the album <code>Album Title</code>, owned by the artist <code>Artist Name</code> open directly in the browser (or make it download the image, if the <code>direct_download</code> configuration setting is enabled).</p>
<p>Opening something like:</p>
<pre><code class="language-http">http://localhost:18425/map/Artist Name/Album Title/Song Title
</code></pre>
<p>will directly open that song in the browser and show a simple player, if your browser supports it (all modern browsers do). Again, you can change the behavior so that browsers directly download these resources by changing the <code>direct_download</code> <a href="config.html">config</a> option.</p>
<p>If a file is downloaded that is nested, the <code>filename_separator</code> <a href="config.html">config</a> option will control what the separator will be. By default, this is <code>-</code>, so the filename of an archive of an artist will look like:</p>
<pre><code class="language-plaintext">Artist Name - Album Title.zip
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rest-quick-start"><a class="header" href="#rest-quick-start"><code>REST</code> Quick Start</a></h1>
<p>A quick start to using <code>festivald</code>'s <code>REST</code> API.</p>
<h3 id="view-random-album-art-in-a-web-browser-with-randart"><a class="header" href="#view-random-album-art-in-a-web-browser-with-randart">View random <a href="rest/..common-objects/album.html"><code>Album</code></a> art in a web browser with <a href="rest/rand/art.html"><code>/rand/art</code></a></a></h3>
<pre><code class="language-http">http://localhost:18425/rand/art
</code></pre>
<h3 id="open-a-mini-player-of-a-random-song-in-a-web-browser-with-randsong"><a class="header" href="#open-a-mini-player-of-a-random-song-in-a-web-browser-with-randsong">Open a mini-player of a random <a href="rest/../common-objects/song.html"><code>Song</code></a> in a web browser with <a href="rest/rand/song.html"><code>/rand/song</code></a></a></h3>
<pre><code class="language-http">http://localhost:18425/rand/song
</code></pre>
<h3 id="download-a-random-album-in-the-zip-format-with-randalbum"><a class="header" href="#download-a-random-album-in-the-zip-format-with-randalbum">Download a random <a href="rest/..common-objects/album.html"><code>Album</code></a> in the <code>ZIP</code> format with <a href="rest/rand/album.html"><code>/rand/album</code></a></a></h3>
<pre><code class="language-http">http://localhost:18425/rand/album
</code></pre>
<h3 id="download-a-specific-artist-in-the-zip-format-with-mapartist_name"><a class="header" href="#download-a-specific-artist-in-the-zip-format-with-mapartist_name">Download a <em>specific</em> <a href="rest/..common-objects/artist.html"><code>Artist</code></a> in the <code>ZIP</code> format with <a href="rest/map/artist.html"><code>/map/$ARTIST_NAME</code></a></a></h3>
<pre><code class="language-http">http://localhost:18425/map/Artist Name
</code></pre>
<h3 id="download-the-currently-set-song-with-currentsong"><a class="header" href="#download-the-currently-set-song-with-currentsong">Download the currently set <a href="rest/..common-objects/song.html"><code>Song</code></a> with <a href="rest/current/song.html"><code>/current/song</code></a></a></h3>
<pre><code class="language-http">http://localhost:18425/current/song
</code></pre>
<h3 id="view-the-art-of-the-currently-set-song-with-currentart"><a class="header" href="#view-the-art-of-the-currently-set-song-with-currentart">View the art of the currently set <a href="rest/..common-objects/song.html"><code>Song</code></a> with <a href="rest/current/art.html"><code>/current/art</code></a></a></h3>
<pre><code class="language-http">http://localhost:18425/current/art
</code></pre>
<h3 id="download-all-the-art-belonging-to-an-artist-with-artartist_name"><a class="header" href="#download-all-the-art-belonging-to-an-artist-with-artartist_name">Download <em>all</em> the art belonging to an <a href="rest/..common-objects/artist.html"><code>Artist</code></a> with <a href="rest/art/artist.html"><code>/art/$ARTIST_NAME</code></a></a></h3>
<pre><code class="language-http">http://localhost:18425/art/Artist Name
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key-2"><a class="header" href="#key-2">/key</a></h1>
<p>Access audio files and/or art via a <a href="rest/key/../../common-objects/key.html"><code>key</code></a>.</p>
<p>This endpoint expects 2 more endpoints:</p>
<ul>
<li><a href="rest/key/../../common-objects/common-objects.html"><code>${COMMON_OBJECT}</code></a></li>
<li><a href="rest/key/../../common-objects/key.html"><code>${KEY}</code></a></li>
</ul>
<p>The <code>${COMMON_OBJECT}</code> must be one of:</p>
<ul>
<li><code>artist</code></li>
<li><code>album</code></li>
<li><code>song</code></li>
<li><code>art</code></li>
</ul>
<p>The <code>key</code> must be the key number associated with the object.</p>
<p>See <a href="rest/key/../../common-objects/key.html"><code>Common Objects/Key</code></a> for more information on keys.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keyartistartist_key"><a class="header" href="#keyartistartist_key">/key/artist/$ARTIST_KEY</a></h1>
<p>Download all the <code>Album</code>'s owned by this <code>Artist</code>, 1 directory per album (including art if found), wrapped in an archive format, using an <a href="rest/key/../../common-objects/key.html"><code>Artist key</code></a>.</p>
<h4 id="input"><a class="header" href="#input">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Artist key</td><td>unsigned integer</td></tr>
</tbody></table>
</div>
<h4 id="output"><a class="header" href="#output">Output</a></h4>
<p>Archive of all artist's albums (including art if found).</p>
<h4 id="example-input"><a class="header" href="#example-input">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/key/artist/123
</code></pre>
<h4 id="example-output"><a class="header" href="#example-output">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name/
    â”œâ”€ Album Name 1/
    â”‚    â”œâ”€ Album Name 1.jpg
    â”‚    â”œâ”€ Song Name 1.mp3
    â”‚    â”œâ”€ Song Name 2.flac
    â”‚    â”œâ”€ Song Name 3.ogg
    â”‚
    â”‚â”€ Album Name 2/
    â”‚    â”œâ”€ Album Name 2.png
    â”‚    â”œâ”€ Song Name 4.mp3
    â”‚    â”œâ”€ Song Name 5.flac
    â”‚    â”œâ”€ Song Name 6.ogg
    â”‚
    â”œâ”€ Album Name 3/
         â”œâ”€ Song Name 7.mp3
         â”œâ”€ Song Name 8.flac
         â”œâ”€ Song Name 9.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keyalbumalbum_key"><a class="header" href="#keyalbumalbum_key">/key/album/$ALBUM_KEY</a></h1>
<p>Download an <code>Album</code> (including art if found), wrapped in an archive format, using an <a href="rest/key/../../common-objects/key.html"><code>Album key</code></a>.</p>
<h4 id="input-1"><a class="header" href="#input-1">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Album key</td><td>unsigned integer</td></tr>
</tbody></table>
</div>
<h4 id="output-1"><a class="header" href="#output-1">Output</a></h4>
<p>Album in archive (including art if found).</p>
<h4 id="example-input-1"><a class="header" href="#example-input-1">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/key/album/123
</code></pre>
<h4 id="example-output-1"><a class="header" href="#example-output-1">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name - Album Title.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name - Album Title/
  â”œâ”€ Album Name.jpg
  â”œâ”€ Song Name 1.mp3
  â”œâ”€ Song Name 2.flac
  â”œâ”€ Song Name 3.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keysongsong_key"><a class="header" href="#keysongsong_key">/key/song/$SONG_KEY</a></h1>
<p>Download this <code>Song</code> in the original format, using a <a href="rest/key/../../common-objects/key.html"><code>Song key</code></a>.</p>
<h4 id="input-2"><a class="header" href="#input-2">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Song key</td><td>unsigned integer</td></tr>
</tbody></table>
</div>
<h4 id="output-2"><a class="header" href="#output-2">Output</a></h4>
<p>Song in original format.</p>
<h4 id="example-input-2"><a class="header" href="#example-input-2">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/key/song/123
</code></pre>
<h4 id="example-output-2"><a class="header" href="#example-output-2">Example Output</a></h4>
<pre><code class="language-plaintext">Artist Name - Album Title - Song Title.flac
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keyartalbum_key"><a class="header" href="#keyartalbum_key">/key/art/$ALBUM_KEY</a></h1>
<p>Download this <code>Album</code>'s art in the image's original format, using an <a href="rest/key/../../common-objects/key.html"><code>Album key</code></a>.</p>
<h4 id="input-3"><a class="header" href="#input-3">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Album key</td><td>unsigned integer</td></tr>
</tbody></table>
</div>
<h4 id="output-3"><a class="header" href="#output-3">Output</a></h4>
<p>Art in original format.</p>
<h4 id="example-input-3"><a class="header" href="#example-input-3">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/key/art/123
</code></pre>
<h4 id="example-output-3"><a class="header" href="#example-output-3">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name - Album Title.jpg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map-1"><a class="header" href="#map-1">/map</a></h1>
<p>This is the same as the <code>/key</code> endpoint, but instead of numbers, you can directly use:</p>
<ul>
<li>Artist names</li>
<li>Album titles</li>
<li>Song titles</li>
</ul>
<p>So instead of:</p>
<pre><code>http://localhost:18425/key/song/123
</code></pre>
<p>you can use:</p>
<pre><code>http://localhost:18425/map/Artist Name/Artist Title/Song Title
</code></pre>
<p>Browsers will secretly percent-encode this URL, so it'll actually be:</p>
<pre><code>http://localhost:18425/map/Artist%20Name/Artist%20Title/Song%20Title
</code></pre>
<p>This is fine, <code>festivald</code> will decode it, along with any other percent encoding, so you can use spaces or any other UTF-8 characters directly in the URL:</p>
<pre><code>http://localhost:18425/map/Ð°Ñ€Ñ‚Ð¸ÑÑ‚/â¤ï¸/ãƒ’ãƒ³ãƒˆ ã˜ã‚ƒãªã„
</code></pre>
<p>The reason <code>Artist</code> names and <code>Album</code> titles have to be specified is to prevent collisions.</p>
<p>If there's 2 songs in your <code>Collection</code> called: <code>Hello World</code>, which one should <code>festivald</code> return?</p>
<p>Since <code>Artist</code> names are unique, and <code>Album</code> titles within <code>Artist</code>'s are unique, they serve as an identifier.</p>
<p>Also note: words are case-sensitive and must be exact.</p>
<p>If you have an <code>Album</code> called <code>Hello World</code>, none of these inputs will work:</p>
<ul>
<li><code>Hello world</code></li>
<li><code>hello World</code></li>
<li><code>HELlo World</code></li>
<li><code>HelloWorld</code></li>
<li><code>H3ll0 W0rld</code></li>
</ul>
<p>The input must <em>exactly</em> be <code>Hello World</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mapartist_name"><a class="header" href="#mapartist_name">/map/$ARTIST_NAME</a></h1>
<p>Download all the <code>Album</code>'s owned by this <code>Artist</code>, 1 directory per album (including art if found), wrapped in an archive format, using the <a href="rest/map/../../common-objects/artist.html"><code>Artist</code></a>'s name.</p>
<h4 id="input-4"><a class="header" href="#input-4">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Artist name</td><td>string</td></tr>
</tbody></table>
</div>
<h4 id="output-4"><a class="header" href="#output-4">Output</a></h4>
<p>Archive of all artist's albums (including art if found).</p>
<h4 id="example-input-4"><a class="header" href="#example-input-4">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/map/Artist Name
</code></pre>
<h4 id="example-output-4"><a class="header" href="#example-output-4">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name/
    â”œâ”€ Album Name 1/
    â”‚    â”œâ”€ Album Name 1.jpg
    â”‚    â”œâ”€ Song Name 1.mp3
    â”‚    â”œâ”€ Song Name 2.flac
    â”‚    â”œâ”€ Song Name 3.ogg
    â”‚
    â”‚â”€ Album Name 2/
    â”‚    â”œâ”€ Album Name 2.png
    â”‚    â”œâ”€ Song Name 4.mp3
    â”‚    â”œâ”€ Song Name 5.flac
    â”‚    â”œâ”€ Song Name 6.ogg
    â”‚
    â”œâ”€ Album Name 3/
         â”œâ”€ Song Name 7.mp3
         â”œâ”€ Song Name 8.flac
         â”œâ”€ Song Name 9.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mapartist_namealbum_title"><a class="header" href="#mapartist_namealbum_title">/map/$ARTIST_NAME/$ALBUM_TITLE</a></h1>
<p>Download an <code>Album</code> (including art if found), wrapped in an archive format, using the <a href="rest/map/../../common-objects/artist.html"><code>Artist</code></a>'s name, and <a href="rest/map/../../common-objects/album.html"><code>Album</code></a> title.</p>
<h4 id="input-5"><a class="header" href="#input-5">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Artist name</td><td>string</td></tr>
<tr><td>Album title</td><td>string</td></tr>
</tbody></table>
</div>
<h4 id="output-5"><a class="header" href="#output-5">Output</a></h4>
<p>Album in archive (including art if found).</p>
<h4 id="example-input-5"><a class="header" href="#example-input-5">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/map/Artist Name/Album Title
</code></pre>
<h4 id="example-output-5"><a class="header" href="#example-output-5">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name - Album Title.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name - Album Title/
  â”œâ”€ Album Name.jpg
  â”œâ”€ Song Name 1.mp3
  â”œâ”€ Song Name 2.flac
  â”œâ”€ Song Name 3.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mapartist_namealbum_titlesong_title"><a class="header" href="#mapartist_namealbum_titlesong_title">/map/$ARTIST_NAME/$ALBUM_TITLE/$SONG_TITLE</a></h1>
<p>Download this <code>Song</code> in the original format, using the <a href="rest/map/../../common-objects/artist.html"><code>Artist</code></a>'s name, <a href="rest/map/../../common-objects/album.html"><code>Album</code></a> title, and <a href="rest/map/../../common-objects/song.html"><code>Song</code></a> title.</p>
<h4 id="input-6"><a class="header" href="#input-6">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Artist name</td><td>string</td></tr>
<tr><td>Album title</td><td>string</td></tr>
<tr><td>Song title</td><td>string</td></tr>
</tbody></table>
</div>
<h4 id="output-6"><a class="header" href="#output-6">Output</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Output</th><th>Type</th></tr></thead><tbody>
<tr><td>Song in original format</td><td>audio file</td></tr>
</tbody></table>
</div>
<h4 id="example-input-6"><a class="header" href="#example-input-6">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/map/Artist Name/Album Title/Song Title
</code></pre>
<h4 id="example-output-6"><a class="header" href="#example-output-6">Example Output</a></h4>
<pre><code class="language-plaintext">Artist Name - Album Title - Song Title.flac
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current-1"><a class="header" href="#current-1">/current</a></h1>
<p>Download the currently set <code>Artist</code>, <code>Album</code>, <code>Song</code>, or art.</p>
<p>Returns a 404 error if no <a href="rest/current/../../common-objects/song.html"><code>Song</code></a> is currently set.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="currentartist"><a class="header" href="#currentartist">/current/artist</a></h1>
<p>Download all the <code>Album</code>'s owned by this <code>Artist</code> of the currently set <code>Song</code>, 1 directory per album (including art if found), wrapped in an archive format.</p>
<h4 id="input-7"><a class="header" href="#input-7">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-7"><a class="header" href="#output-7">Output</a></h4>
<p>Archive of all artist's albums (including art if found).</p>
<h4 id="example-input-7"><a class="header" href="#example-input-7">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/current/artist
</code></pre>
<h4 id="example-output-7"><a class="header" href="#example-output-7">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name/
    â”œâ”€ Album Name 1/
    â”‚    â”œâ”€ Album Name 1.jpg
    â”‚    â”œâ”€ Song Name 1.mp3
    â”‚    â”œâ”€ Song Name 2.flac
    â”‚    â”œâ”€ Song Name 3.ogg
    â”‚
    â”‚â”€ Album Name 2/
    â”‚    â”œâ”€ Album Name 2.png
    â”‚    â”œâ”€ Song Name 4.mp3
    â”‚    â”œâ”€ Song Name 5.flac
    â”‚    â”œâ”€ Song Name 6.ogg
    â”‚
    â”œâ”€ Album Name 3/
         â”œâ”€ Song Name 7.mp3
         â”œâ”€ Song Name 8.flac
         â”œâ”€ Song Name 9.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="currentalbum"><a class="header" href="#currentalbum">/current/album</a></h1>
<p>Download the <code>Album</code> of the currently set <code>Song</code> (including art if found), wrapped in an archive format.</p>
<h4 id="input-8"><a class="header" href="#input-8">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-8"><a class="header" href="#output-8">Output</a></h4>
<p>Album in archive (including art if found).</p>
<h4 id="example-input-8"><a class="header" href="#example-input-8">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/current/album
</code></pre>
<h4 id="example-output-8"><a class="header" href="#example-output-8">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name - Album Title.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name - Album Title/
  â”œâ”€ Album Name.jpg
  â”œâ”€ Song Name 1.mp3
  â”œâ”€ Song Name 2.flac
  â”œâ”€ Song Name 3.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="currentsong"><a class="header" href="#currentsong">/current/song</a></h1>
<p>Download the currently set <code>Song</code> in the original format.</p>
<h4 id="input-9"><a class="header" href="#input-9">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-9"><a class="header" href="#output-9">Output</a></h4>
<p>Song in original format.</p>
<h4 id="example-input-9"><a class="header" href="#example-input-9">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/current/song
</code></pre>
<h4 id="example-output-9"><a class="header" href="#example-output-9">Example Output</a></h4>
<pre><code class="language-plaintext">Artist Name - Album Title - Song Title.flac
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="currentart"><a class="header" href="#currentart">/current/art</a></h1>
<p>Download the <code>Album</code> art of the currently set <code>Song</code>, in the original format.</p>
<p>If no art was found, the response will be a 404 error.</p>
<h4 id="input-10"><a class="header" href="#input-10">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-10"><a class="header" href="#output-10">Output</a></h4>
<p>Art in original format.</p>
<h4 id="example-input-10"><a class="header" href="#example-input-10">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/current/art
</code></pre>
<h4 id="example-output-10"><a class="header" href="#example-output-10">Example Output</a></h4>
<pre><code class="language-plaintext">Artist Name - Album Title.jpg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand-1"><a class="header" href="#rand-1">/rand</a></h1>
<p>Download a random <code>Artist</code>, <code>Album</code>, <code>Song</code> or art.</p>
<p>This will return a 404 error if the <a href="rest/rand/../../common-objects/collection.html"><code>Collection</code></a> is empty.</p>
<p>Repeating is allowed, so you may encounter the same object multiple times in a row.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="randartist"><a class="header" href="#randartist">/rand/artist</a></h1>
<p>Download all the <code>Album</code>'s by a random <code>Artist</code>, 1 directory per album (including art if found), wrapped in an archive format.</p>
<h4 id="input-11"><a class="header" href="#input-11">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-11"><a class="header" href="#output-11">Output</a></h4>
<p>Archive of all artist's albums (including art if found).</p>
<h4 id="example-input-11"><a class="header" href="#example-input-11">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/rand/artist
</code></pre>
<h4 id="example-output-11"><a class="header" href="#example-output-11">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name/
    â”œâ”€ Album Name 1/
    â”‚    â”œâ”€ Album Name 1.jpg
    â”‚    â”œâ”€ Song Name 1.mp3
    â”‚    â”œâ”€ Song Name 2.flac
    â”‚    â”œâ”€ Song Name 3.ogg
    â”‚
    â”‚â”€ Album Name 2/
    â”‚    â”œâ”€ Album Name 2.png
    â”‚    â”œâ”€ Song Name 4.mp3
    â”‚    â”œâ”€ Song Name 5.flac
    â”‚    â”œâ”€ Song Name 6.ogg
    â”‚
    â”œâ”€ Album Name 3/
         â”œâ”€ Song Name 7.mp3
         â”œâ”€ Song Name 8.flac
         â”œâ”€ Song Name 9.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="randalbum"><a class="header" href="#randalbum">/rand/album</a></h1>
<p>Download a random <code>Album</code> (including art if found), wrapped in an archive format.</p>
<h4 id="input-12"><a class="header" href="#input-12">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-12"><a class="header" href="#output-12">Output</a></h4>
<p>Album in archive (including art if found).</p>
<h4 id="example-input-12"><a class="header" href="#example-input-12">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/rand/album
</code></pre>
<h4 id="example-output-12"><a class="header" href="#example-output-12">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name - Album Title.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name - Album Title/
  â”œâ”€ Album Name.jpg
  â”œâ”€ Song Name 1.mp3
  â”œâ”€ Song Name 2.flac
  â”œâ”€ Song Name 3.ogg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="randsong"><a class="header" href="#randsong">/rand/song</a></h1>
<p>Download a random <code>Song</code> in the original format.</p>
<h4 id="input-13"><a class="header" href="#input-13">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-13"><a class="header" href="#output-13">Output</a></h4>
<p>Song in original format.</p>
<h4 id="example-input-13"><a class="header" href="#example-input-13">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/rand/song
</code></pre>
<h4 id="example-output-13"><a class="header" href="#example-output-13">Example Output</a></h4>
<pre><code class="language-plaintext">Artist Name - Album Title - Song Title.flac
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="randart"><a class="header" href="#randart">/rand/art</a></h1>
<p>Download a random <code>Album</code> art, in the original format.</p>
<p>If no art was found, the response will be a 404 error.</p>
<h4 id="input-14"><a class="header" href="#input-14">Input</a></h4>
<p><code>None</code></p>
<h4 id="output-14"><a class="header" href="#output-14">Output</a></h4>
<p>Art in original format.</p>
<h4 id="example-input-14"><a class="header" href="#example-input-14">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/rand/art
</code></pre>
<h4 id="example-output-14"><a class="header" href="#example-output-14">Example Output</a></h4>
<pre><code class="language-plaintext">Artist Name - Album Title.jpg
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="art"><a class="header" href="#art">/art</a></h1>
<p>This is the same as the <a href="rest/art/../map/map.html"><code>/map</code></a> endpoint, but only for downloading <code>Album</code> art.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="artartist_name"><a class="header" href="#artartist_name">/art/$ARTIST_NAME</a></h1>
<p>Download all the <code>Album</code> art owned by this <code>Artist</code>, wrapped in an archive format, using the <a href="rest/art/../../common-objects/artist.html"><code>Artist</code></a>'s name.</p>
<h4 id="input-15"><a class="header" href="#input-15">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Artist name</td><td>string</td></tr>
</tbody></table>
</div>
<h4 id="output-15"><a class="header" href="#output-15">Output</a></h4>
<p>Archive of all the art owned by this <code>Artist</code>.</p>
<h4 id="example-input-15"><a class="header" href="#example-input-15">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/art/Artist Name
</code></pre>
<h4 id="example-output-15"><a class="header" href="#example-output-15">Example Output</a></h4>
<p>File:</p>
<pre><code class="language-plaintext">Artist Name - Art.zip
</code></pre>
<p>Extracted:</p>
<pre><code class="language-plaintext">Artist Name - Art/
    â”œâ”€ Album Name 1.jpg
    â”‚â”€ Album Name 2.png
    â”œâ”€ Album Name 3.webp
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="artartist_namealbum_title"><a class="header" href="#artartist_namealbum_title">/art/$ARTIST_NAME/$ALBUM_TITLE</a></h1>
<p>Download an <code>Album</code>'s art, using the <a href="rest/art/../../common-objects/artist.html"><code>Artist</code></a>'s name, and <a href="rest/art/../../common-objects/album.html"><code>Album</code></a> title</p>
<h4 id="input-16"><a class="header" href="#input-16">Input</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Input</th><th>Type</th></tr></thead><tbody>
<tr><td>Artist name</td><td>string</td></tr>
<tr><td>Album title</td><td>string</td></tr>
</tbody></table>
</div>
<h4 id="output-16"><a class="header" href="#output-16">Output</a></h4>
<p>Album art in original format.</p>
<h4 id="example-input-16"><a class="header" href="#example-input-16">Example Input</a></h4>
<pre><code class="language-http">http://localhost:18425/art/Artist Name/Album Title
</code></pre>
<h4 id="example-output-16"><a class="header" href="#example-output-16">Example Output</a></h4>
<pre><code class="language-plaintext">Artist Name - Album Title.png
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
